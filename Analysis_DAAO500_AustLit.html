
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The DAAO 500 and AustLit</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystyles.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-R8Q003ZY5N"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-R8Q003ZY5N');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/ACDElogo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="about.html">
   About
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data infrastructure and integration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_Introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Integration_Architecture.html">
   Australian Cultural Data Engine Architecture
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_Overview.html">
     Overview of the Australian Cultural Data Engine Architecture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_Construction.html">
     Construction Workflow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_DataReport.html">
     Data Report
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_SpecialConsiderations.html">
     Special Considerations for Data Analysis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Integration_DataSources.html">
   Data Sources
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_AusStage.html">
     The Australian Live Performance Database
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_CircusOz.html">
     The Circus Oz Living Archive collection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_DAAO.html">
     Design &amp; Art Australia Online
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_DAQA.html">
     Digital Archive of Queensland Architecture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_SummerHayes.html">
     Summerhayes Family Collection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_Download.html">
   Integrated Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_FutureWorks.html">
   Future Works
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_Miscellaneous.html">
   More Interesting Works and Cultural Data Sources
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_Introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_ArchibaldPrize.html">
   Quantifying success: A journey into the Archibald Prize
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_CircusOz.html">
   Beyond the Big Top: Exploring career trajectories at Circus Oz
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_DAAO500.html">
   The DAAO 500
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_DAAOVenues.html">
   Natural language processing with DAAO
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_DAQA_Part1.html">
   DAQA: Preliminary analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_DAQA_Part2.html">
   DAQA: Extended analysis
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Analysis_DAAO500_AustLit.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/acd-engine/jupyterbook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/acd-engine/jupyterbook/issues/new?title=Issue%20on%20page%20%2FAnalysis_DAAO500_AustLit.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/acd-engine/jupyterbook/master?urlpath=tree/docs/Analysis_DAAO500_AustLit.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-packages-and-pre-process-data">
   Import packages and pre-process data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exact-matches-scrape-more-data-from-austlit">
   Exact matches - Scrape more data from AustLit
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>The DAAO 500 and AustLit</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-packages-and-pre-process-data">
   Import packages and pre-process data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exact-matches-scrape-more-data-from-austlit">
   Exact matches - Scrape more data from AustLit
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="section" id="the-daao-500-and-austlit">
<h1>The DAAO 500 and AustLit<a class="headerlink" href="#the-daao-500-and-austlit" title="Permalink to this headline">¶</a></h1>
<style>
  a {
    color: #1ea5a6 !important;
  }
</style>
<p>This is an exploratory data analysis of collected data from <a class="reference external" href="https://www.daao.org.au/">DAAO</a>. The data has also been filtered down to 500 person records with the richest data. We primarily focus on trends across gender and roles.</p>
<p>The DAAO data consists of…</p>
<ul class="simple">
<li><p>event records with attached dates</p></li>
<li><p>person records for each event</p></li>
<li><p>each person record contains data on gender and role type, however roles are not specific to events or time.</p></li>
</ul>
<div class="section" id="import-packages-and-pre-process-data">
<h2>Import packages and pre-process data<a class="headerlink" href="#import-packages-and-pre-process-data" title="Permalink to this headline">¶</a></h2>
<p>We have provided the code used to generate the DAAO 500 data, but for the sake of brevity we will not run the pre-processing code here. Instead, we will import pre-processed data from the <a class="reference external" href="https://github.com/acd-engine/jupyterbook/tree/main/data/analysis">data/analysis folder</a> located in Github.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for data mgmt</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">gzip</span><span class="o">,</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">ast</span>

<span class="c1"># for plotting</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="kn">from</span> <span class="nn">itables</span> <span class="kn">import</span> <span class="n">show</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="c1"># provide folder_name which contains uncompressed data i.e., csv and jsonl files</span>
<span class="c1"># only need to change this if you have already donwloaded data</span>
<span class="c1"># otherwise data will be fetched from google drive</span>
<span class="k">global</span> <span class="n">folder_name</span>
<span class="n">folder_name</span> <span class="o">=</span> <span class="s1">&#39;data/local&#39;</span>

<span class="k">def</span> <span class="nf">fetch_small_data_from_github</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://raw.githubusercontent.com/acd-engine/jupyterbook/master/data/analysis/</span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">rawdata</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">rawdata</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">check_if_csv_exists_in_folder</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span> <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_name</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">fetch_data</span><span class="p">(</span><span class="n">filetype</span><span class="o">=</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span> <span class="n">acdedata</span><span class="o">=</span><span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;googledrive&#39;</span><span class="p">):</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;acde_</span><span class="si">{</span><span class="n">acdedata</span><span class="si">}</span><span class="s1">_202305080816.</span><span class="si">{</span><span class="n">filetype</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="c1"># first check if the data exists in current directory</span>
    <span class="n">data_from_path</span> <span class="o">=</span> <span class="n">check_if_csv_exists_in_folder</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data_from_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span> <span class="n">data_from_path</span>

    <span class="n">download_url</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">github_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://raw.githubusercontent.com/acd-engine/jupyterbook/master/data/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.gz&quot;</span>

    <span class="k">if</span> <span class="n">source</span> <span class="o">==</span> <span class="s1">&#39;googledrive&#39;</span><span class="p">:</span>
        <span class="n">urls</span> <span class="o">=</span> <span class="n">fetch_small_data_from_github</span><span class="p">(</span><span class="s1">&#39;acde_data_gdrive_urls.csv&#39;</span><span class="p">)</span>
        <span class="n">sharelink</span> <span class="o">=</span> <span class="n">urls</span><span class="p">[</span><span class="n">urls</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">acdedata</span><span class="p">][</span><span class="n">filetype</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://drive.google.com/u/0/uc?id=</span><span class="si">{</span><span class="n">sharelink</span><span class="si">}</span><span class="s1">&amp;export=download&amp;confirm=yes&#39;</span>

    <span class="k">elif</span> <span class="n">source</span> <span class="o">==</span> <span class="s1">&#39;github&#39;</span><span class="p">:</span> <span class="n">url</span> <span class="o">=</span> <span class="n">github_url</span>
    <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
    
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">sha</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;oid sha256:&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;size &#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Step 1: Create the JSON object</span>
        <span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;operation&quot;</span><span class="p">:</span> <span class="s2">&quot;download&quot;</span><span class="p">,</span> <span class="s2">&quot;transfer&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">],</span> <span class="s2">&quot;objects&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;oid&quot;</span><span class="p">:</span> <span class="n">sha</span><span class="p">,</span> <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">size</span><span class="p">)}]}</span>

        <span class="c1"># Step 2: Send a POST request to the LFS API</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/acd-engine/jupyterbook.git/info/lfs/objects/batch&quot;</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/vnd.git-lfs+json&quot;</span><span class="p">,</span><span class="s2">&quot;Content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_data</span><span class="p">))</span>
        <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

        <span class="c1"># Step 3: Extract the download URL from the response</span>
        <span class="n">download_url</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;actions&quot;</span><span class="p">][</span><span class="s2">&quot;download&quot;</span><span class="p">][</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">if</span> <span class="n">download_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">download_url</span><span class="p">)</span>

    <span class="n">decompressed_data</span> <span class="o">=</span> <span class="n">gzip</span><span class="o">.</span><span class="n">decompress</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">decompressed_buffer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">decompressed_data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filetype</span> <span class="o">==</span> <span class="s1">&#39;csv&#39;</span><span class="p">:</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">decompressed_buffer</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">df</span> <span class="o">=</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jl</span><span class="p">)</span> <span class="k">for</span> <span class="n">jl</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">decompressed_buffer</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span> 

<span class="k">def</span> <span class="nf">fetch_top_500</span><span class="p">(</span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;DAAO_500_data.csv&#39;</span><span class="p">):</span>
    <span class="c1"># first check if the data exists in current directory</span>
    <span class="n">data_from_path</span> <span class="o">=</span> <span class="n">check_if_csv_exists_in_folder</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data_from_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span> <span class="n">data_from_path</span>

    <span class="n">acde_persons</span> <span class="o">=</span> <span class="n">fetch_data</span><span class="p">(</span><span class="n">acdedata</span><span class="o">=</span><span class="s1">&#39;person&#39;</span><span class="p">)</span> <span class="c1"># 16s</span>
    <span class="n">daao_persons</span> <span class="o">=</span> <span class="n">acde_persons</span><span class="p">[</span><span class="n">acde_persons</span><span class="p">[</span><span class="s1">&#39;data_source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;DAAO&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">daao_persons</span><span class="p">[</span><span class="s1">&#39;ori_url2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_persons</span><span class="p">[</span><span class="s1">&#39;ori_url&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">eval</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

    <span class="n">top500</span> <span class="o">=</span> <span class="n">fetch_small_data_from_github</span><span class="p">(</span><span class="s1">&#39;DAAO_500_list.csv&#39;</span><span class="p">)</span>

    <span class="c1"># find matches with unified data</span>
    <span class="n">top500_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">top500</span><span class="p">[</span><span class="s1">&#39;ori_url&#39;</span><span class="p">]:</span> <span class="n">top500_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">top500_df</span><span class="p">,</span> <span class="n">daao_persons</span><span class="p">[</span><span class="n">daao_persons</span><span class="p">[</span><span class="s1">&#39;ori_url2&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">i</span><span class="p">]])</span>

    <span class="c1"># remove last column of the dataframe and return df</span>
    <span class="k">return</span> <span class="n">top500_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">fetch_top_500</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import pandas as pd</span>
<span class="c1"># import requests</span>
<span class="c1"># from bs4 import BeautifulSoup</span>
<span class="c1"># import time</span>
 
<span class="c1"># # Read the CSV file</span>
<span class="c1"># df = pd.read_csv(&#39;data/ACDE_DAAO_Biography_Selected_v_1_1_202211101335.csv&#39;)</span>
 
<span class="c1"># # Create a new dataframe to store the scraped results</span>
<span class="c1"># result_data = []</span>
 
<span class="c1"># # Iterate over the rows - this takes 50 mins</span>
<span class="c1"># for index, row in df.iterrows():</span>
<span class="c1">#     # Concatenate the given_names and family_name columns to get the full name</span>
<span class="c1">#     full_name = f&quot;{row[&#39;primary_name.given_names&#39;]} {row[&#39;primary_name.family_name&#39;]}&quot;</span>
 
<span class="c1">#     # Construct the URL for the search page</span>
<span class="c1">#     query = full_name.replace(&#39; &#39;, &#39;+&#39;)</span>
<span class="c1">#     url_all = f&#39;https://www.austlit.edu.au/austlit/search2/page?query={query}&#39;</span>
<span class="c1">#     url_agent = f&#39;https://www.austlit.edu.au/austlit/search2/page?query={query}&amp;scope=agent&#39;</span>

<span class="c1">#     for idx, url in enumerate([url_all, url_agent]):</span>
<span class="c1">#         # Send a GET request to the search page</span>
<span class="c1">#         response = requests.get(url)</span>
<span class="c1">#         soup = BeautifulSoup(response.content, &#39;html.parser&#39;)</span>
    
<span class="c1">#         # Extract the top result name and link if available</span>
<span class="c1">#         top_result = soup.find(&#39;a&#39;, class_=&#39;austlitLink-agent&#39;)</span>
<span class="c1">#         if top_result is not None:</span>
<span class="c1">#             top_result_name = top_result.span.get_text()</span>
<span class="c1">#             top_result_link = &#39;https://www.austlit.edu.au&#39; + top_result[&#39;href&#39;]</span>
<span class="c1">#         else:</span>
<span class="c1">#             top_result_name = &#39;No Result Found&#39;</span>
<span class="c1">#             top_result_link = &#39;&#39;</span>
    
<span class="c1">#         # Append the results to the data list</span>
<span class="c1">#         if idx == 0: result_data.append({&#39;FullName&#39;: full_name, &#39;TopResultName&#39;: top_result_name, &#39;TopResultLink&#39;: top_result_link})</span>
<span class="c1">#         else: result_data[-1].update({&#39;TopResultName2&#39;: top_result_name, &#39;TopResultLink2&#39;: top_result_link})</span>
    
<span class="c1">#         # Pause for a short duration</span>
<span class="c1">#         time.sleep(0.5)  # Adjust the duration as needed</span>

<span class="c1">#         if top_result_name == &#39;No Result Found&#39;:</span>
<span class="c1">#             result_data[-1].update({&#39;TopResultName2&#39;: top_result_name, &#39;TopResultLink2&#39;: top_result_link})</span>
<span class="c1">#             break</span>
    
<span class="c1">#     # Print progress and data being saved</span>
<span class="c1">#     print(f&quot;Processed {index+1}/{len(df)}: {full_name}&quot;)</span>
 
<span class="c1"># # Create a new dataframe from the result data</span>
<span class="c1"># result_df = pd.DataFrame(result_data, columns=[&#39;FullName&#39;, &#39;TopResultName&#39;, &#39;TopResultLink&#39;, &#39;TopResultName2&#39;, &#39;TopResultLink2&#39;])</span>
 
<span class="c1"># # Save the results to a new CSV file</span>
<span class="c1"># result_df.to_csv(&#39;data/Austlist_DAAO_artists_match.csv&#39;, index=False)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import numpy as np</span>

<span class="c1"># Read the CSV file</span>
<span class="c1"># df = pd.read_csv(&#39;data/ACDE_DAAO_Biography_Selected_v_1_1_202211101335.csv&#39;)</span>
<span class="c1"># result_df = pd.read_csv(&#39;data/Austlist_DAAO_artists_match.csv&#39;)</span>
<span class="c1"># result_df[&#39;Surname&#39;] = df[&#39;primary_name.family_name&#39;]</span>
<span class="c1"># result_df[&#39;Expert_Checked&#39;] = df[&#39;Expert_Checked&#39;]</span>
<span class="c1"># result_df = result_df[result_df.Expert_Checked].drop_duplicates()</span>

<span class="c1"># result_df[&#39;SelectedName&#39;] = np.where(result_df[&#39;TopResultName&#39;] == result_df[&#39;TopResultName2&#39;], result_df[&#39;TopResultName&#39;], np.nan)</span>
<span class="c1"># result_df[&#39;SelectedLink&#39;] = np.where(result_df[&#39;TopResultName&#39;] == result_df[&#39;TopResultName2&#39;], result_df[&#39;TopResultLink&#39;], np.nan)</span>
<span class="c1"># result_df[&#39;Type&#39;] = np.where(result_df.SelectedName == &#39;No Result Found&#39;, &#39;No match&#39;, np.nan)</span>
<span class="c1"># result_df[&#39;Type&#39;] = np.where((result_df.SelectedName.notnull()) &amp; (result_df.Type != &#39;No match&#39;), &#39;Most likely a match&#39;, result_df.Type)</span>

<span class="c1"># result_df[&#39;SelectedName&#39;] = np.where((result_df[&#39;TopResultName&#39;] != result_df[&#39;TopResultName2&#39;]) &amp;\</span>
<span class="c1">#                                      (result_df[&#39;FullName&#39;] == result_df[&#39;TopResultName2&#39;]), result_df[&#39;TopResultName2&#39;], result_df[&#39;SelectedName&#39;])</span>
<span class="c1"># result_df[&#39;SelectedLink&#39;] = np.where((result_df[&#39;TopResultName&#39;] != result_df[&#39;TopResultName2&#39;]) &amp;\</span>
<span class="c1">#                                         (result_df[&#39;FullName&#39;] == result_df[&#39;TopResultName2&#39;]), result_df[&#39;TopResultLink2&#39;], result_df[&#39;SelectedLink&#39;])</span>
<span class="c1"># result_df[&#39;Type&#39;] = np.where((result_df.SelectedName.notnull()) &amp; (result_df.Type == &#39;nan&#39;), &#39;Most likely a match&#39;, result_df.Type)</span>

<span class="c1"># result_df[&#39;TopResultName_LastStr&#39;] = result_df[&#39;TopResultName&#39;].apply(lambda x: x.split(&#39; &#39;)[-1])</span>
<span class="c1"># result_df[&#39;TopResultName2_LastStr&#39;] = result_df[&#39;TopResultName2&#39;].apply(lambda x: x.split(&#39; &#39;)[-1])</span>
<span class="c1"># result_df[&#39;Type&#39;] = np.where((result_df.SelectedName.isnull()) &amp; (result_df.Surname == result_df.TopResultName_LastStr), &#39;No match, but related record with same surname&#39;, result_df.Type)</span>
<span class="c1"># result_df[&#39;SelectedName&#39;] = np.where((result_df.SelectedName.isnull()) &amp; (result_df.Surname == result_df.TopResultName_LastStr), result_df.TopResultName, result_df.SelectedName)</span>
<span class="c1"># result_df[&#39;SelectedLink&#39;] = np.where((result_df.SelectedLink.isnull()) &amp; (result_df.Surname == result_df.TopResultName_LastStr), result_df.TopResultLink, result_df.SelectedLink)</span>

<span class="c1"># result_df[&#39;Type&#39;] = np.where((result_df.SelectedName.isnull()) &amp; (result_df.Surname == result_df.TopResultName2_LastStr), &#39;No match, but related record with same surname&#39;, result_df.Type)</span>
<span class="c1"># result_df[&#39;SelectedName&#39;] = np.where((result_df.SelectedName.isnull()) &amp; (result_df.Surname == result_df.TopResultName2_LastStr), result_df.TopResultName2, result_df.SelectedName)</span>
<span class="c1"># result_df[&#39;SelectedLink&#39;] = np.where((result_df.SelectedLink.isnull()) &amp; (result_df.Surname == result_df.TopResultName2_LastStr), result_df.TopResultLink2, result_df.SelectedLink)</span>

<span class="c1"># result_df[&#39;Type&#39;] = np.where(result_df.SelectedName.isnull(), &#39;No match, but related record&#39;, result_df.Type)</span>
<span class="c1"># result_df[&#39;Type&#39;] = np.where((result_df.Type == &#39;Most likely a match&#39;) &amp; (result_df.SelectedName == result_df.FullName), &#39;Exact match&#39;, result_df.Type)</span>
<span class="c1"># result_df.to_csv(&#39;data/for_manual_inspection.csv&#39;, index=False)</span>
<span class="c1"># result_df[&#39;Type&#39;].value_counts()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="c1"># Read the CSV file</span>
<span class="n">result_df_manually_edited</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/for_manual_inspection.csv&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Most frequently occurring values when searching all results:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------------------------------------------------------------&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df_manually_edited</span><span class="o">.</span><span class="n">TopResultName</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Most frequently occurring values when searching only agents:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;------------------------------------------------------------&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_df_manually_edited</span><span class="o">.</span><span class="n">TopResultName2</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># plot pie chart and increase size of labels</span>
<span class="n">result_df_type</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">result_df_manually_edited</span><span class="p">[</span><span class="s2">&quot;Type&quot;</span><span class="p">]))</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Type&quot;</span><span class="p">,</span><span class="s2">&quot;Frequency&quot;</span><span class="p">])</span>

<span class="c1"># explosion</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span>
  
<span class="c1"># Pie Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">result_df_type</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Exact match (194)&#39;</span><span class="p">,</span><span class="s1">&#39;No match (175)&#39;</span><span class="p">,</span><span class="s1">&#39;No match, but </span><span class="se">\n</span><span class="s1">related record (129)&#39;</span><span class="p">],</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span>
        <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">)</span>
  
<span class="c1"># draw circle</span>
<span class="n">centre_circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">0.70</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>
  
<span class="c1"># Adding Circle in Pie chart</span>
<span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">centre_circle</span><span class="p">)</span>
  
<span class="c1"># Adding Title of chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;How many DAAO500 artists are in AustLit?&#39;</span><span class="p">)</span>
  
<span class="c1"># Displaying Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Most frequently occurring values when searching all results:
------------------------------------------------------------
No Result Found                175
Margo Stanislawska-Birnberg      4
Vera Newsom                      2
Helen Carroll                    2
Peta Tait                        2
Name: TopResultName, dtype: int64 

Most frequently occurring values when searching only agents:
------------------------------------------------------------
No Result Found                 241
Queenie McKenzie                  2
Clifford Possum Tjapaltjarri      2
Long Jack                         2
Penguin New Zealand               2
Name: TopResultName2, dtype: int64 
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_5_1.png" src="_images/Analysis_DAAO500_AustLit_5_1.png" />
</div>
</div>
</div>
<div class="section" id="exact-matches-scrape-more-data-from-austlit">
<h2>Exact matches - Scrape more data from AustLit<a class="headerlink" href="#exact-matches-scrape-more-data-from-austlit" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">exact_matches</span> <span class="o">=</span> <span class="n">result_df_manually_edited</span><span class="p">[</span><span class="n">result_df_manually_edited</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Exact match&#39;</span><span class="p">][[</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span> <span class="s1">&#39;SelectedName&#39;</span><span class="p">,</span> <span class="s1">&#39;SelectedLink&#39;</span><span class="p">]]</span>

<span class="c1"># replace AustLit links with OpenAthens links</span>
<span class="c1"># this allows us to maintain logged in access to AustLit records</span>
<span class="n">exact_matches</span><span class="p">[</span><span class="s1">&#39;SelectedLink_LoggedIn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exact_matches</span><span class="p">[</span><span class="s1">&#39;SelectedLink&#39;</span><span class="p">]</span>
<span class="n">exact_matches</span><span class="p">[</span><span class="s1">&#39;SelectedLink_LoggedIn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exact_matches</span><span class="p">[</span><span class="s1">&#39;SelectedLink_LoggedIn&#39;</span><span class="p">]</span>\
    <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;https://www.austlit.edu.au/&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;https://www-austlit-edu-au.eu1.proxy.openathens.net/&#39;</span><span class="p">))</span>

<span class="n">exact_matches</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">exact_matches</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FullName</th>
      <th>SelectedName</th>
      <th>SelectedLink</th>
      <th>SelectedLink_LoggedIn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Harold Abbott</td>
      <td>Hal D. Abbott</td>
      <td>https://www.austlit.edu.au/austlit/page/A48352</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ian Abdulla</td>
      <td>Ian Abdulla</td>
      <td>https://www.austlit.edu.au/austlit/page/A48552</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Thelma Afford</td>
      <td>Thelma Afford</td>
      <td>https://www.austlit.edu.au/austlit/page/A65108</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Vernon Ah Kee</td>
      <td>Vernon Ah Kee</td>
      <td>https://www.austlit.edu.au/austlit/page/11339149</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Tony Albert</td>
      <td>Tony Albert</td>
      <td>https://www.austlit.edu.au/austlit/page/11501066</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>189</th>
      <td>Fred Williams</td>
      <td>Fred Williams</td>
      <td>https://www.austlit.edu.au/austlit/page/A60792</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>190</th>
      <td>David  Wilson</td>
      <td>David Wilson</td>
      <td>https://www.austlit.edu.au/austlit/page/A114638</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>191</th>
      <td>Regina Pilawuk Wilson</td>
      <td>Regina Pilawuk Wilson</td>
      <td>https://www.austlit.edu.au/austlit/page/9118739</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>192</th>
      <td>John Wolseley</td>
      <td>John Wolseley</td>
      <td>https://www.austlit.edu.au/austlit/page/A61236</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
    <tr>
      <th>193</th>
      <td>Anne Zahalka</td>
      <td>Anne Zahalka</td>
      <td>https://www.austlit.edu.au/austlit/page/11632398</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
    </tr>
  </tbody>
</table>
<p>194 rows × 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import pandas as pd</span>
<span class="c1"># import requests</span>
<span class="c1"># from bs4 import BeautifulSoup</span>
<span class="c1"># import time</span>

<span class="c1"># # semi-automated way of bypassing login details</span>
<span class="c1"># # follow this link for more info: https://stackoverflow.com/a/61140905</span>
<span class="c1"># cookies = {</span>
<span class="c1">#     &#39;oamps&#39;: &#39;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwIjpbImE0YmYxOWMyLWJhZjQtNGE2NS1iZTI4LWU2Nzc5MWZkMjI4YiJdLCJkIjoidW5pbWVsYi5lZHUuYXUiLCJlIjoiaHR0cHM6Ly9pZHAudW5pbWVsYi5lZHUuYXUvb3BlbmF0aGVucyIsIm9yZyI6IjcxNjg1NzE0IiwiaWQiOiI4ODgwNzhjZi0xMDQyLTQzZGItOTc3Ni1iMGRmYjY1NjgyODgiLCJleHAiOjE2ODgwNzYyNzgsImNwIjpmYWxzZSwiY3IiOmZhbHNlfQ.AVmo1WzZbvyN98fAUkOQWbWGbrh1b5XYTbOCfHelUu0&#39;,</span>
<span class="c1"># }</span>

<span class="c1"># headers = {</span>
<span class="c1">#     &#39;authority&#39;: &#39;www-austlit-edu-au.eu1.proxy.openathens.net&#39;,</span>
<span class="c1">#     &#39;accept&#39;: &#39;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8&#39;,</span>
<span class="c1">#     &#39;accept-language&#39;: &#39;en-US,en;q=0.5&#39;,</span>
<span class="c1">#     &#39;cache-control&#39;: &#39;max-age=0&#39;,</span>
<span class="c1">#     # &#39;cookie&#39;: &#39;oamps=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJwIjpbImE0YmYxOWMyLWJhZjQtNGE2NS1iZTI4LWU2Nzc5MWZkMjI4YiJdLCJkIjoidW5pbWVsYi5lZHUuYXUiLCJlIjoiaHR0cHM6Ly9pZHAudW5pbWVsYi5lZHUuYXUvb3BlbmF0aGVucyIsIm9yZyI6IjcxNjg1NzE0IiwiaWQiOiI4ODgwNzhjZi0xMDQyLTQzZGItOTc3Ni1iMGRmYjY1NjgyODgiLCJleHAiOjE2ODgwNzYyNzgsImNwIjpmYWxzZSwiY3IiOmZhbHNlfQ.AVmo1WzZbvyN98fAUkOQWbWGbrh1b5XYTbOCfHelUu0&#39;,</span>
<span class="c1">#     &#39;referer&#39;: &#39;https://login.openathens.net/&#39;,</span>
<span class="c1">#     &#39;sec-ch-ua&#39;: &#39;&quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Brave&quot;;v=&quot;114&quot;&#39;,</span>
<span class="c1">#     &#39;sec-ch-ua-mobile&#39;: &#39;?0&#39;,</span>
<span class="c1">#     &#39;sec-ch-ua-platform&#39;: &#39;&quot;macOS&quot;&#39;,</span>
<span class="c1">#     &#39;sec-fetch-dest&#39;: &#39;document&#39;,</span>
<span class="c1">#     &#39;sec-fetch-mode&#39;: &#39;navigate&#39;,</span>
<span class="c1">#     &#39;sec-fetch-site&#39;: &#39;same-site&#39;,</span>
<span class="c1">#     &#39;sec-fetch-user&#39;: &#39;?1&#39;,</span>
<span class="c1">#     &#39;sec-gpc&#39;: &#39;1&#39;,</span>
<span class="c1">#     &#39;upgrade-insecure-requests&#39;: &#39;1&#39;,</span>
<span class="c1">#     &#39;user-agent&#39;: &#39;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&#39;,</span>
<span class="c1"># }</span>


<span class="c1"># # Create a new dataframe to store the scraped results</span>
<span class="c1"># result_data = []</span>
<span class="c1"># over1000 = &#39;&#39;</span>

<span class="c1"># # Iterate over the rows - this takes 25 mins</span>
<span class="c1"># for index, row in exact_matches.iterrows():</span>
<span class="c1">#     url = row[&#39;SelectedLink&#39;]</span>
<span class="c1">#     # Send a GET request to the search page</span>
<span class="c1">#     response = requests.get(url)</span>
<span class="c1">#     soup = BeautifulSoup(response.content, &#39;html.parser&#39;)</span>

<span class="c1">#     # Extract the top result name and link if available</span>
<span class="c1">#     text_agent = soup.get_text()</span>
<span class="c1">#     result_data.append({&#39;AgentText&#39;: text_agent})</span>

<span class="c1">#     works_dict = {&#39;agentWorksBy&#39;: &#39;austlit-toc&#39;, </span>
<span class="c1">#                   &#39;agentWorksAbout&#39;: &#39;austlit-works-about&#39;,</span>
<span class="c1">#                   &#39;agentWorksWorks&#39;: &#39;austlit-toc&#39;}</span>

<span class="c1">#     for section in works_dict.keys():</span>
<span class="c1">#         # Pause for a short duration</span>
<span class="c1">#         time.sleep(0.5)  # Adjust the duration as needed</span>
<span class="c1">#         response = requests.get(f&#39;{row[&quot;SelectedLink_LoggedIn&quot;]}?mainTabTemplate={section}&amp;from=0&amp;count=1000&#39;,</span>
<span class="c1">#                                 cookies=cookies, headers=headers)</span>
        
<span class="c1">#         soup = BeautifulSoup(response.content, &#39;html.parser&#39;)</span>
<span class="c1">#         text_works = soup.find(&#39;div&#39;, class_=works_dict[section])</span>
<span class="c1">#         works_count = len(text_works.find_all(&#39;a&#39;, class_=&#39;austlitLink-work property link neoaust-austlitId title&#39;))</span>

<span class="c1">#         if works_count &gt; 1000: over1000 = section</span>

<span class="c1">#         result_data[-1].update({section: text_works.get_text()})</span>
    
<span class="c1">#     # Print progress and data being saved</span>
<span class="c1">#     print(f&quot;Processed {index+1}/{len(exact_matches)}: {url.split(&#39;/&#39;)[-1]}&quot;)</span>

<span class="c1">#     if over1000 != &#39;&#39;: print(f&#39;WARNING: over 1000 works found for {url.split(&quot;/&quot;)[-1]} in {over1000} section. Please review.\n&#39;)</span>

<span class="c1"># # Create a new dataframe from the result data</span>
<span class="c1"># result_detailled_df = pd.DataFrame(result_data, columns=[&#39;AgentText&#39;, &#39;agentWorksBy&#39;, &#39;agentWorksAbout&#39;, &#39;agentWorksWorks&#39;])</span>
<span class="c1"># result_detailled_df = pd.concat([exact_matches, result_detailled_df], axis=1)</span>

<span class="c1"># # Save the results to a new CSV file</span>
<span class="c1"># result_detailled_df.to_csv(&#39;data/Austlist_DAAO_detailled.csv&#39;, index=False)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Austlist_DAAO_detailled.csv&#39;</span><span class="p">)</span>

<span class="c1"># Clean textual sections</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText_Bio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>\
                                                <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;×Bio changes summary</span><span class="se">\n</span><span class="s1">Close&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>\
                                                <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Most Referenced Works&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;×Bio&quot;</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText_Notes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Notes&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>\
                                            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Last amended&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>\
                                            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Awards for Works&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;Notes&quot;</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText_Awards&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Awards for Works&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>\
                                            <span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;VIEW ALL AWARDS&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>\
                                            <span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="s2">&quot;Awards for Works&quot;</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksBy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksBy&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Works ByPreview all&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksAbout&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksAbout&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Works AboutPreview all&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksWorks&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksWorks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Works About Their WorksPreview all&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&#39;</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>\
                                                <span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FullName</th>
      <th>SelectedName</th>
      <th>SelectedLink</th>
      <th>SelectedLink_LoggedIn</th>
      <th>AgentText</th>
      <th>agentWorksBy</th>
      <th>agentWorksAbout</th>
      <th>agentWorksWorks</th>
      <th>AgentText_Bio</th>
      <th>AgentText_Notes</th>
      <th>AgentText_Awards</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Harold Abbott</td>
      <td>Hal D. Abbott</td>
      <td>https://www.austlit.edu.au/austlit/page/A48352</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
      <td>\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n...</td>
      <td>1    y    Songs of Peace and Hymns of Victory ...</td>
      <td></td>
      <td></td>
      <td></td>
      <td>Also wrote the patriotic song "For I Love but ...</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ian Abdulla</td>
      <td>Ian Abdulla</td>
      <td>https://www.austlit.edu.au/austlit/page/A48552</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
      <td>\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n...</td>
      <td>1 4   y    Tucker   Ian Abdulla /specialistDat...</td>
      <td>1   Narratives of Charm and Wit   John Kean , ...</td>
      <td>1   As I Grew Older Written and Illustrated by...</td>
      <td>Ian Abdullas mother, Jemima Hunter, was from R...</td>
      <td>The National Library of Australia also holds a...</td>
      <td>y    Tucker     South Australia  : Omnibus Boo...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Thelma Afford</td>
      <td>Thelma Afford</td>
      <td>https://www.austlit.edu.au/austlit/page/A65108</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
      <td>\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n...</td>
      <td>1    y    Dreamers and Visionaries : Adelaides...</td>
      <td>1   Dreamer and Visionary : Discovering Costum...</td>
      <td></td>
      <td>Thelma Afford was born Thelma Thomas, the only...</td>
      <td>A series of interviews with Thelma Afford are ...</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>Vernon Ah Kee</td>
      <td>Vernon Ah Kee</td>
      <td>https://www.austlit.edu.au/austlit/page/11339149</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
      <td>\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n...</td>
      <td></td>
      <td>1   Refugee and Indigenous Australian Experien...</td>
      <td></td>
      <td>Aboriginal artist Vernon Ah Kee is a member of...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>Tony Albert</td>
      <td>Tony Albert</td>
      <td>https://www.austlit.edu.au/austlit/page/11501066</td>
      <td>https://www-austlit-edu-au.eu1.proxy.openathen...</td>
      <td>\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n...</td>
      <td></td>
      <td>1   Life Doesnt Stay Still : Tony Albert Has a...</td>
      <td></td>
      <td>Tony Albert is a contemporary Australian Artist.</td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Step 1: Prepare your corpus</span>
<span class="n">austlit_bios</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText_Bio&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText_Notes&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> \
                <span class="n">df</span><span class="p">[</span><span class="s1">&#39;AgentText_Awards&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksBy&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> \
                <span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksAbout&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;agentWorksWorks&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

<span class="c1"># Step 2: Preprocess the text</span>
<span class="c1"># nltk.download(&#39;stopwords&#39;)</span>
<span class="c1"># nltk.download(&#39;punkt&#39;)</span>

<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">preprocess_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Lowercase the text</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    
    <span class="c1"># Tokenize the text</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    
    <span class="c1"># Remove stopwords</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

<span class="n">preprocessed_corpus</span> <span class="o">=</span> <span class="p">[</span><span class="n">preprocess_text</span><span class="p">(</span><span class="n">biography</span><span class="p">)</span> <span class="k">for</span> <span class="n">biography</span> <span class="ow">in</span> <span class="n">austlit_bios</span><span class="p">]</span>

<span class="c1"># for each element, remove the full name of the artist</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="n">artist_names</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">artist_names</span><span class="p">:</span> 
        <span class="n">preprocessed_corpus</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">preprocessed_corpus</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>\
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;blackwords&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>\
            <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;specialistdatasets&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>


<span class="c1"># Step 3-5: Calculate TF-IDF scores</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>
<span class="n">tfidf_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">)</span>

<span class="n">terms</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
<span class="n">idf_scores</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">idf_</span>
<span class="n">tfidf_scores</span> <span class="o">=</span> <span class="n">tfidf_matrix</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>

<span class="c1"># Step 6: Extract distinctive terms for each artist</span>
<span class="n">num_distinctive_terms</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="n">artist_name</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span>
    <span class="n">tfidf_scores_artist</span> <span class="o">=</span> <span class="n">tfidf_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    
    <span class="c1"># Sort terms based on TF-IDF scores</span>
    <span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">tfidf_scores_artist</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">distinctive_terms</span> <span class="o">=</span> <span class="p">[</span><span class="n">terms</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">sorted_indices</span><span class="p">[:</span><span class="n">num_distinctive_terms</span><span class="p">]]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">distinctive_terms</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Step 7: Generate word cloud</span>
    <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">distinctive_terms</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Austlit wordcloud: </span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span> <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Harold Abbott: [&#39;leonard&#39;, &#39;delorah&#39;, &#39;1920&#39;, &#39;pseudonym&#39;, &#39;hymns&#39;, &#39;nesbitt&#39;, &#39;z814568&#39;, &#39;mistakenly&#39;, &#39;linter&#39;, &#39;crittenden&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_10_1.png" src="_images/Analysis_DAAO500_AustLit_10_1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ian Abdulla: [&#39;austral&#39;, &#39;1993&#39;, &#39;murray&#39;, &#39;river&#39;, &#39;along&#39;, &#39;books&#39;, &#39;nunga&#39;, &#39;picture&#39;, &#39;book&#39;, &#39;omnibus&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_10_3.png" src="_images/Analysis_DAAO500_AustLit_10_3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thelma Afford: [&#39;theatre&#39;, &#39;costume&#39;, &#39;theatres&#39;, &#39;adelaides&#39;, &#39;adelaide&#39;, &#39;radio&#39;, &#39;visionaries&#39;, &#39;pageant&#39;, &#39;dreamers&#39;, &#39;max&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_10_5.png" src="_images/Analysis_DAAO500_AustLit_10_5.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Vernon Ah Kee: [&#39;cronulla&#39;, &#39;whiteness&#39;, &#39;racialisation&#39;, &#39;aboriginal&#39;, &#39;refugee&#39;, &#39;nulla&#39;, &#39;commentaries&#39;, &#39;riots&#39;, &#39;riotous&#39;, &#39;off&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_10_7.png" src="_images/Analysis_DAAO500_AustLit_10_7.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tony Albert: [&#39;preston&#39;, &#39;aboriginal&#39;, &#39;2017&#39;, &#39;ben&#39;, &#39;work&#39;, &#39;2018&#39;, &#39;exhibition&#39;, &#39;solo&#39;, &#39;artist&#39;, &#39;smith&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_10_9.png" src="_images/Analysis_DAAO500_AustLit_10_9.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;Nolan&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;Barton&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;Vernon&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="p">):</span>
        <span class="n">artist_name</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span>
        <span class="n">tfidf_scores_artist</span> <span class="o">=</span> <span class="n">tfidf_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        
        <span class="c1"># Sort terms based on TF-IDF scores</span>
        <span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">tfidf_scores_artist</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">distinctive_terms</span> <span class="o">=</span> <span class="p">[</span><span class="n">terms</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">sorted_indices</span><span class="p">[:</span><span class="n">num_distinctive_terms</span><span class="p">]]</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">distinctive_terms</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Step 7: Generate word cloud</span>
        <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">distinctive_terms</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Austlit wordcloud: </span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Vernon Ah Kee: [&#39;cronulla&#39;, &#39;whiteness&#39;, &#39;racialisation&#39;, &#39;aboriginal&#39;, &#39;refugee&#39;, &#39;nulla&#39;, &#39;commentaries&#39;, &#39;riots&#39;, &#39;riotous&#39;, &#39;off&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_11_1.png" src="_images/Analysis_DAAO500_AustLit_11_1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Del Kathryn Barton: [&#39;2022&#39;, &#39;film&#39;, &#39;blaze&#39;, &#39;awards&#39;, &#39;catatonic&#39;, &#39;ultimately&#39;, &#39;causeway&#39;, &#39;huna&#39;, &#39;witnessing&#39;, &#39;inestimable&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_11_3.png" src="_images/Analysis_DAAO500_AustLit_11_3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sidney Nolan: [&#39;1962&#39;, &#39;work&#39;, &#39;poetry&#39;, &#39;review&#39;, &#39;single&#39;, &#39;selected&#39;, &#39;poems&#39;, &#39;appears&#39;, &#39;1956&#39;, &#39;penguins&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_11_5.png" src="_images/Analysis_DAAO500_AustLit_11_5.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dinny Tjampitjinpa Nolan: [&#39;jambijimba&#39;, &#39;ceremonies&#39;, &#39;dreaming&#39;, &#39;stockman&#39;, &#39;leader&#39;, &#39;yuendumu&#39;, &#39;mr&#39;, &#39;2012&#39;, &#39;1978&#39;, &#39;west&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_11_7.png" src="_images/Analysis_DAAO500_AustLit_11_7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Cathy Wilcox&#39;</span><span class="p">,</span> <span class="s1">&#39;Nora Heysen&#39;</span><span class="p">,</span> <span class="s1">&#39;Barbara Hanrahan&#39;</span><span class="p">,</span> <span class="s1">&#39;Bronwyn Bancroft&#39;</span><span class="p">]:</span>
        <span class="n">artist_name</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span>
        <span class="n">tfidf_scores_artist</span> <span class="o">=</span> <span class="n">tfidf_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        
        <span class="c1"># Sort terms based on TF-IDF scores</span>
        <span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">tfidf_scores_artist</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">distinctive_terms</span> <span class="o">=</span> <span class="p">[</span><span class="n">terms</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">sorted_indices</span><span class="p">[:</span><span class="n">num_distinctive_terms</span><span class="p">]]</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">distinctive_terms</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Step 7: Generate word cloud</span>
        <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">distinctive_terms</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Austlit wordcloud: </span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bronwyn Bancroft: [&#39;book&#39;, &#39;picture&#39;, &#39;review&#39;, &#39;single&#39;, &#39;work&#39;, &#39;childrens&#39;, &#39;books&#39;, &#39;animals&#39;, &#39;appears&#39;, &#39;illustrator&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_12_1.png" src="_images/Analysis_DAAO500_AustLit_12_1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Barbara Hanrahan: [&#39;review&#39;, &#39;novel&#39;, &#39;work&#39;, &#39;single&#39;, &#39;appears&#39;, &#39;1992&#39;, &#39;1989&#39;, &#39;criticism&#39;, &#39;1984&#39;, &#39;1985&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_12_3.png" src="_images/Analysis_DAAO500_AustLit_12_3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nora Heysen: [&#39;hans&#39;, &#39;2011&#39;, &#39;letters&#39;, &#39;first&#39;, &#39;selected&#39;, &#39;work&#39;, &#39;correspondence&#39;, &#39;father&#39;, &#39;art&#39;, &#39;2019&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_12_5.png" src="_images/Analysis_DAAO500_AustLit_12_5.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cathy Wilcox: [&#39;1990&#39;, &#39;picture&#39;, &#39;book&#39;, &#39;work&#39;, &#39;single&#39;, &#39;1989&#39;, &#39;childrens&#39;, &#39;review&#39;, &#39;novel&#39;, &#39;1991&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_12_7.png" src="_images/Analysis_DAAO500_AustLit_12_7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">time</span>
 
<span class="c1"># Read the CSV file</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/ACDE_DAAO_Biography_Selected_v_1_1_202211101335.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;FullName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;primary_name.given_names&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;primary_name.family_name&#39;</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">exact_matches</span><span class="p">,</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span><span class="s1">&#39;ori_url&#39;</span><span class="p">]],</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1"># Create a new dataframe to store the scraped results</span>
<span class="n">daao_bios</span> <span class="o">=</span> <span class="p">[]</span>
 
<span class="c1"># Iterate over the rows - this takes 5 mins</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="c1"># Send a GET request to the search page</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">ori_url</span> <span class="o">+</span> <span class="s1">&#39;/biography&#39;</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>

    <span class="c1"># Extract bio</span>
    <span class="n">this_bio</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;body ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom&#39;</span><span class="p">)</span>
    
    <span class="k">try</span><span class="p">:</span> <span class="n">this_bio</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;dl&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
    <span class="k">except</span><span class="p">:</span> <span class="k">pass</span>

    <span class="k">try</span><span class="p">:</span> <span class="n">this_bio</span> <span class="o">=</span> <span class="n">this_bio</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
    <span class="k">except</span><span class="p">:</span> <span class="n">this_bio</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">daao_bios</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this_bio</span><span class="p">)</span>

    <span class="c1"># Print progress and data being saved</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processed </span><span class="si">{</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
 
<span class="c1"># Create a new dataframe from the result data</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;daao_bios&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_bios</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span><span class="s1">&#39;daao_bios&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/daao500_bios.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 1/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 2/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 3/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 4/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 5/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 6/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 7/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 8/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 9/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 10/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 11/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 12/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 13/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 14/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 15/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 16/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 17/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 18/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 19/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 20/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 21/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 22/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 23/196
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processed 24/196
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">11</span><span class="p">],</span> <span class="n">line</span> <span class="mi">33</span>
<span class="g g-Whitespace">     </span><span class="mi">31</span>     <span class="c1"># Print progress and data being saved</span>
<span class="g g-Whitespace">     </span><span class="mi">32</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processed </span><span class="si">{</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">33</span>     <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">35</span> <span class="c1"># Create a new dataframe from the result data</span>
<span class="g g-Whitespace">     </span><span class="mi">36</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;daao_bios&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_bios</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daao_bios_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/daao500_bios.csv&#39;</span><span class="p">)</span>
<span class="n">daao_bios_df</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">daao_bios_df</span><span class="p">[</span><span class="s1">&#39;daao_bios&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_bios_df</span><span class="p">[</span><span class="s1">&#39;daao_bios&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This record is a stub. You can help out by adding more detail.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. You can help DAAO by submitting a biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. You can help the DAAO by submitting a biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. Please add to it if you are able.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. Please help the DAAO by adding a biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. Please help by completing it.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This record is a stub. You can help by adding more detail.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. You can help the DAAO by adding to it.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. Please help the DAAO by adding to it.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. Please help the DAAO by adding a biography&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. Please help the DAAO by submitting a full biography&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. Please help the DAAO by completing it.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This artist’s biography is a stub. You can help the DAAO by submitting a biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. You can help the DAAO by submitting a biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. You can help the DAAO by submitting a biography&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. A full bio is coming.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub.  A full bio is coming.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. You can help the DAAO by submitting a full biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This biography is a stub. You can help the DAAO by submitting a biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is stub. You can help the DAAO by submitting a biography .&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is a stub. A full bio is comin g.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;This entry is stub. You can help the DAAO by submitting a biography.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span>\
    <span class="nb">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/rb/mjsh2q916fl5sgghntjck66h0000gn/T/ipykernel_25712/1345469688.py:3: FutureWarning: The default value of regex will change from True to False in a future version.
  daao_bios_df[&#39;daao_bios&#39;] = daao_bios_df[&#39;daao_bios&#39;].str.replace(&quot;This record is a stub. You can help out by adding more detail.&quot;,&quot;&quot;).\
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Step 1: Prepare your corpus</span>
<span class="n">daao_bios</span> <span class="o">=</span> <span class="n">daao_bios_df</span><span class="p">[</span><span class="s1">&#39;daao_bios&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>

<span class="c1"># Step 2: Preprocess the text</span>
<span class="c1"># nltk.download(&#39;stopwords&#39;)</span>
<span class="c1"># nltk.download(&#39;punkt&#39;)</span>

<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">preprocess_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Lowercase the text</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    
    <span class="c1"># Tokenize the text</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    
    <span class="c1"># Remove stopwords</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>

<span class="n">preprocessed_corpus</span> <span class="o">=</span> <span class="p">[</span><span class="n">preprocess_text</span><span class="p">(</span><span class="n">biography</span><span class="p">)</span> <span class="k">for</span> <span class="n">biography</span> <span class="ow">in</span> <span class="n">daao_bios</span><span class="p">]</span>

<span class="c1"># for each element, remove the full name of the artist</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="n">artist_names</span> <span class="o">=</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">artist_names</span><span class="p">:</span> <span class="n">preprocessed_corpus</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">preprocessed_corpus</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Step 3-5: Calculate TF-IDF scores</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>
<span class="n">tfidf_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">)</span>

<span class="n">terms</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
<span class="n">idf_scores</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">idf_</span>
<span class="n">tfidf_scores</span> <span class="o">=</span> <span class="n">tfidf_matrix</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>

<span class="c1"># Step 6: Extract distinctive terms for each artist</span>
<span class="n">num_distinctive_terms</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="n">artist_name</span> <span class="o">=</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span>
    <span class="n">tfidf_scores_artist</span> <span class="o">=</span> <span class="n">tfidf_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    
    <span class="c1"># Sort terms based on TF-IDF scores</span>
    <span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">tfidf_scores_artist</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">distinctive_terms</span> <span class="o">=</span> <span class="p">[</span><span class="n">terms</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">sorted_indices</span><span class="p">[:</span><span class="n">num_distinctive_terms</span><span class="p">]]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">distinctive_terms</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Step 7: Generate word cloud</span>
    <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">distinctive_terms</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Austlit wordcloud: </span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span> <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Harold Abbott: [&#39;war&#39;, &#39;portraits&#39;, &#39;singapore&#39;, &#39;works&#39;, &#39;thailand&#39;, &#39;prisoners&#39;, &#39;genre&#39;, &#39;produced&#39;, &#39;railway&#39;, &#39;narrative&#39;]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/miniconda3/envs/tf2/lib/python3.9/site-packages/sklearn/utils/deprecation.py:87: FutureWarning: Function get_feature_names is deprecated; get_feature_names is deprecated in 1.0 and will be removed in 1.2. Please use get_feature_names_out instead.
  warnings.warn(msg, category=FutureWarning)
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_15_2.png" src="_images/Analysis_DAAO500_AustLit_15_2.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ian Abdulla: [&#39;reach&#39;, &#39;swan&#39;, &#39;ngarrindjeri&#39;, &#39;1947&#39;, &#39;painter&#39;, &#39;south&#39;, &#39;born&#39;, &#39;australia&#39;, &#39;evening&#39;, &#39;everidge&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_15_4.png" src="_images/Analysis_DAAO500_AustLit_15_4.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thelma Afford: [&#39;costume&#39;, &#39;costumes&#39;, &#39;1938&#39;, &#39;theatre&#39;, &#39;fornari&#39;, &#39;celebrations&#39;, &#39;adelaide&#39;, &#39;designer&#39;, &#39;max&#39;, &#39;library&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_15_6.png" src="_images/Analysis_DAAO500_AustLit_15_6.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Vernon Ah Kee: [&#39;text&#39;, &#39;artlines&#39;, &#39;brisbane&#39;, &#39;2007&#39;, &#39;queensland&#39;, &#39;portraits&#39;, &#39;art&#39;, &#39;browning&#39;, &#39;drawer&#39;, &#39;bell&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_15_8.png" src="_images/Analysis_DAAO500_AustLit_15_8.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Tony Albert: [&#39;aboriginal&#39;, &#39;2007&#39;, &#39;art&#39;, &#39;people&#39;, &#39;cardwell&#39;, &#39;gangsta&#39;, &#39;campfire&#39;, &#39;magnt&#39;, &#39;experience&#39;, &#39;brisbane&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_15_10.png" src="_images/Analysis_DAAO500_AustLit_15_10.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;Nolan&#39;</span> <span class="ow">in</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;Barton&#39;</span> <span class="ow">in</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="s1">&#39;Vernon&#39;</span> <span class="ow">in</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span><span class="p">):</span>
        <span class="n">artist_name</span> <span class="o">=</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span>
        <span class="n">tfidf_scores_artist</span> <span class="o">=</span> <span class="n">tfidf_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        
        <span class="c1"># Sort terms based on TF-IDF scores</span>
        <span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">tfidf_scores_artist</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">distinctive_terms</span> <span class="o">=</span> <span class="p">[</span><span class="n">terms</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">sorted_indices</span><span class="p">[:</span><span class="n">num_distinctive_terms</span><span class="p">]]</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">distinctive_terms</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Step 7: Generate word cloud</span>
        <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">distinctive_terms</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DAAO wordcloud: </span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Vernon Ah Kee: [&#39;text&#39;, &#39;artlines&#39;, &#39;brisbane&#39;, &#39;2007&#39;, &#39;queensland&#39;, &#39;portraits&#39;, &#39;art&#39;, &#39;browning&#39;, &#39;drawer&#39;, &#39;bell&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_16_1.png" src="_images/Analysis_DAAO500_AustLit_16_1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Del Kathryn Barton: [&#39;2007&#39;, &#39;sydney&#39;, &#39;gallery&#39;, &#39;2008&#39;, &#39;kaliman&#39;, &#39;collectable&#39;, &#39;portrait&#39;, &#39;named&#39;, &#39;issue&#39;, &#39;2006&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_16_3.png" src="_images/Analysis_DAAO500_AustLit_16_3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sidney Nolan: [&#39;reed&#39;, &#39;ned&#39;, &#39;john&#39;, &#39;art&#39;, &#39;stewart&#39;, &#39;cynthia&#39;, &#39;reeds&#39;, &#39;kelly&#39;, &#39;sunday&#39;, &#39;paintings&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_16_5.png" src="_images/Analysis_DAAO500_AustLit_16_5.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dinny Tjampitjinpa Nolan: [&#39;willy&#39;, &#39;stockman&#39;, &#39;wagga&#39;, &#39;papunya&#39;, &#39;date&#39;, &#39;far&#39;, &#39;earlier&#39;, &#39;water&#39;, &#39;mid&#39;, &#39;print&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_16_7.png" src="_images/Analysis_DAAO500_AustLit_16_7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">biography</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">preprocessed_corpus</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Cathy Wilcox&#39;</span><span class="p">,</span> <span class="s1">&#39;Nora Heysen&#39;</span><span class="p">,</span> <span class="s1">&#39;Barbara Hanrahan&#39;</span><span class="p">,</span> <span class="s1">&#39;Bronwyn Bancroft&#39;</span><span class="p">]:</span>
        <span class="n">artist_name</span> <span class="o">=</span> <span class="n">daao_bios_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">FullName</span>
        <span class="n">tfidf_scores_artist</span> <span class="o">=</span> <span class="n">tfidf_scores</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        
        <span class="c1"># Sort terms based on TF-IDF scores</span>
        <span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">tfidf_scores_artist</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">distinctive_terms</span> <span class="o">=</span> <span class="p">[</span><span class="n">terms</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">sorted_indices</span><span class="p">[:</span><span class="n">num_distinctive_terms</span><span class="p">]]</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">distinctive_terms</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Step 7: Generate word cloud</span>
        <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">distinctive_terms</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DAAO wordcloud: </span><span class="si">{</span><span class="n">artist_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bronwyn Bancroft: [&#39;indigenous&#39;, &#39;children&#39;, &#39;aboriginal&#39;, &#39;australian&#39;, &#39;books&#39;, &#39;recently&#39;, &#39;koori&#39;, &#39;art&#39;, &#39;illustrations&#39;, &#39;anderson&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_17_1.png" src="_images/Analysis_DAAO500_AustLit_17_1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Barbara Hanrahan: [&#39;nga&#39;, &#39;linocut&#39;, &#39;1986&#39;, &#39;ills&#39;, &#39;mata&#39;, &#39;beast&#39;, &#39;brindabella&#39;, &#39;officina&#39;, &#39;hari&#39;, &#39;bolton&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_17_3.png" src="_images/Analysis_DAAO500_AustLit_17_3.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nora Heysen: [&#39;hahndorf&#39;, &#39;father&#39;, &#39;pissarro&#39;, &#39;cedars&#39;, &#39;years&#39;, &#39;provided&#39;, &#39;first&#39;, &#39;year&#39;, &#39;expeditions&#39;, &#39;tropical&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_17_5.png" src="_images/Analysis_DAAO500_AustLit_17_5.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cathy Wilcox: [&#39;smh&#39;, &#39;published&#39;, &#39;1997&#39;, &#39;cartoons&#39;, &#39;january&#39;, &#39;gag&#39;, &#39;806&#39;, &#39;pxa&#39;, &#39;editorial&#39;, &#39;kerr&#39;]
</pre></div>
</div>
<img alt="_images/Analysis_DAAO500_AustLit_17_7.png" src="_images/Analysis_DAAO500_AustLit_17_7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daao_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/ACDE_DAAO_Biography_Selected_v_1_1_202211101335.csv&#39;</span><span class="p">)</span>
<span class="n">daao_data</span> <span class="o">=</span> <span class="n">daao_data</span><span class="p">[</span><span class="n">daao_data</span><span class="o">.</span><span class="n">Expert_Checked</span><span class="p">]</span>
<span class="n">daao_data</span><span class="p">[</span><span class="s1">&#39;FullName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_data</span><span class="p">[</span><span class="s1">&#39;primary_name.given_names&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">daao_data</span><span class="p">[</span><span class="s1">&#39;primary_name.family_name&#39;</span><span class="p">]</span>
<span class="n">daao_data</span> <span class="o">=</span> <span class="n">daao_data</span><span class="p">[[</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span><span class="s1">&#39;indigenous&#39;</span><span class="p">,</span><span class="s1">&#39;artist_birth.date&#39;</span><span class="p">]]</span>
<span class="n">daao_data</span> <span class="o">=</span> <span class="n">daao_data</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;FullName&#39;</span><span class="p">])</span>
<span class="n">daao_austlit_all</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">daao_data</span><span class="p">,</span> <span class="n">daao_bios_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">),</span> 
                            <span class="n">df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;FullName&#39;</span><span class="p">])</span>

<span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;austlit_bios&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;AgentText_Bio&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;AgentText_Notes&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> \
                                    <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;AgentText_Awards&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;agentWorksBy&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> \
                                    <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;agentWorksAbout&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;agentWorksWorks&#39;</span><span class="p">])</span>

<span class="c1"># count the number of words in the column &#39;daao_bios&#39;</span>
<span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;daao_bios_word_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;daao_bios&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>

<span class="c1"># count the number of words in the column &#39;austlit_bios&#39;</span>
<span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;austlit_bios_word_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;AgentText_Bio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>
<span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;austlit_text_word_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;austlit_bios&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>

<span class="n">daao_austlit_all</span> <span class="o">=</span> <span class="n">daao_austlit_all</span><span class="p">[[</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span><span class="s1">&#39;indigenous&#39;</span><span class="p">,</span><span class="s1">&#39;artist_birth.date&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;daao_bios_word_count&#39;</span><span class="p">,</span><span class="s1">&#39;austlit_bios_word_count&#39;</span><span class="p">,</span><span class="s1">&#39;austlit_text_word_count&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">)[</span><span class="s1">&#39;daao_bios_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">)[</span><span class="s1">&#39;austlit_bios_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">)[</span><span class="s1">&#39;austlit_text_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>gender
female    356.0
male      294.0
Name: daao_bios_word_count, dtype: float64 

 gender
female    35.0
male      18.0
Name: austlit_bios_word_count, dtype: float64 

 gender
female    335.0
male      223.0
Name: austlit_text_word_count, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;indigenous&#39;</span><span class="p">)[</span><span class="s1">&#39;daao_bios_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;indigenous&#39;</span><span class="p">)[</span><span class="s1">&#39;austlit_bios_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;indigenous&#39;</span><span class="p">)[</span><span class="s1">&#39;austlit_text_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>indigenous
False    294.0
True     359.0
Name: daao_bios_word_count, dtype: float64 

 indigenous
False    10.0
True     64.0
Name: austlit_bios_word_count, dtype: float64 

 indigenous
False    216.0
True     310.0
Name: austlit_text_word_count, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;dob_bin&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;artist_birth.date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1920</span><span class="p">,</span> <span class="s1">&#39;bornbefore1920&#39;</span><span class="p">,</span>
                                     <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;artist_birth.date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1920</span><span class="p">)</span> <span class="o">&amp;</span>\
                                              <span class="p">(</span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;artist_birth.date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1940</span><span class="p">),</span> 
                                              <span class="s1">&#39;bornbetween1920and1940&#39;</span><span class="p">,</span> 
                                    <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;artist_birth.date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1940</span><span class="p">)</span> <span class="o">&amp;</span>\
                                              <span class="p">(</span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;artist_birth.date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1960</span><span class="p">),</span> 
                                              <span class="s1">&#39;bornbetween1940and1960&#39;</span><span class="p">,</span> <span class="s1">&#39;bornafter1960&#39;</span><span class="p">)))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;dob_bin&#39;</span><span class="p">)[</span><span class="s1">&#39;daao_bios_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;dob_bin&#39;</span><span class="p">)[</span><span class="s1">&#39;austlit_bios_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="n">daao_austlit_all</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;dob_bin&#39;</span><span class="p">)[</span><span class="s1">&#39;austlit_text_word_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>

<span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;dob_bin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dob_bin
bornafter1960             435.0
bornbefore1920            512.0
bornbetween1920and1940    218.0
bornbetween1940and1960    276.0
Name: daao_bios_word_count, dtype: float64 

 dob_bin
bornafter1960             49.0
bornbefore1920            18.0
bornbetween1920and1940    26.0
bornbetween1940and1960    19.0
Name: austlit_bios_word_count, dtype: float64 

 dob_bin
bornafter1960             310.0
bornbefore1920            227.5
bornbetween1920and1940    282.0
bornbetween1940and1960    233.5
Name: austlit_text_word_count, dtype: float64
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bornbetween1940and1960    70
bornbetween1920and1940    45
bornbefore1920            42
bornafter1960             37
Name: dob_bin, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daao_austlit_females</span> <span class="o">=</span> <span class="n">daao_austlit_all</span><span class="p">[</span><span class="n">daao_austlit_all</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;female&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">daao_austlit_females</span><span class="p">[</span><span class="s1">&#39;bio_avg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">daao_austlit_females</span><span class="o">.</span><span class="n">daao_bios_word_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
                                   <span class="p">(</span><span class="n">daao_austlit_females</span><span class="o">.</span><span class="n">austlit_text_word_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span>

<span class="c1"># return row of the artist with the highest bio_avg by dob_bin</span>
<span class="n">daao_austlit_females</span>\
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;dob_bin&#39;</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">bio_avg</span> <span class="o">==</span> <span class="n">x</span><span class="o">.</span><span class="n">bio_avg</span><span class="o">.</span><span class="n">max</span><span class="p">()])[[</span><span class="s1">&#39;FullName&#39;</span><span class="p">,</span><span class="s1">&#39;indigenous&#39;</span><span class="p">,</span>
                                                       <span class="s1">&#39;daao_bios_word_count&#39;</span><span class="p">,</span>
                                                       <span class="s1">&#39;austlit_bios_word_count&#39;</span><span class="p">,</span>
                                                       <span class="s1">&#39;austlit_text_word_count&#39;</span><span class="p">,</span><span class="s1">&#39;bio_avg&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>FullName</th>
      <th>indigenous</th>
      <th>daao_bios_word_count</th>
      <th>austlit_bios_word_count</th>
      <th>austlit_text_word_count</th>
      <th>bio_avg</th>
    </tr>
    <tr>
      <th>dob_bin</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>bornafter1960</th>
      <th>190</th>
      <td>Cathy Wilcox</td>
      <td>False</td>
      <td>666</td>
      <td>67</td>
      <td>5548</td>
      <td>3108.0</td>
    </tr>
    <tr>
      <th>bornbefore1920</th>
      <th>79</th>
      <td>Nora Heysen</td>
      <td>False</td>
      <td>573</td>
      <td>69</td>
      <td>1460</td>
      <td>1017.5</td>
    </tr>
    <tr>
      <th>bornbetween1920and1940</th>
      <th>76</th>
      <td>Barbara Hanrahan</td>
      <td>False</td>
      <td>77</td>
      <td>440</td>
      <td>16737</td>
      <td>8408.0</td>
    </tr>
    <tr>
      <th>bornbetween1940and1960</th>
      <th>10</th>
      <td>Bronwyn Bancroft</td>
      <td>True</td>
      <td>1029</td>
      <td>97</td>
      <td>9368</td>
      <td>5199.5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># response = requests.get(&quot;https://www-austlit-edu-au.eu1.proxy.openathens.net/austlit/page/A22934?mainTabTemplate=agentWorksWorks&amp;from=0&amp;count=1000&quot;,</span>
<span class="c1">#                         cookies=cookies, headers=headers)</span>
<span class="c1"># soup = BeautifulSoup(response.content, &#39;html.parser&#39;)</span>

<span class="c1"># # Extract the top result name and link if available</span>
<span class="c1"># text_agent = soup.find(&#39;div&#39;, class_=&#39;austlit-toc&#39;)</span>
<span class="c1"># # text_agent = soup.find(&#39;div&#39;, class_=&#39;austlit-works-about&#39;)</span>

<span class="c1"># # count the number of &#39;a&#39; tags</span>
<span class="c1"># works_count = len(text_agent.find_all(&#39;a&#39;, class_=&#39;austlitLink-work property link neoaust-austlitId title&#39;))</span>
<span class="c1"># works_count</span>

<span class="c1"># # # export as txt file</span>
<span class="c1"># # with open(&#39;data/agent_text.txt&#39;, &#39;w&#39;) as f: f.write(str(soup.find(&#39;div&#39;, class_=&#39;austlit-toc&#39;)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>92
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Australian Cultural Data Engine<br/>
    
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>