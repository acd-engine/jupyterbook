
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DAAO venues and organisations</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystyles.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-R8Q003ZY5N"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-R8Q003ZY5N');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/ACDElogo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   About
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data infrastructure and integration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ivy_1_intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="ivy_2_0_architecture.html">
   Australian Cultural Data Engine Architecture
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_2_1_overview_acdea.html">
     Overview of the Australian Cultural Data Engine Architecture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_2_2_construction_overflow.html">
     Construction Workflow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_2_3_data_report.html">
     Data Report
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_2_4_special_considerations.html">
     Special Considerations for Data Analysis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="ivy_3_0_data_sources.html">
   Data Sources
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_3_1_ausstage.html">
     The Australian Live Performance Database
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_3_3_circusoz.html">
     The Circus Oz Living Archive collection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_3_4_daao.html">
     Design &amp; Art Australia Online
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_3_5_daqa.html">
     Digital Archive of Queensland Architecture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ivy_3_6_summerhayes.html">
     Summerhayes Family Collection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ivy_4_integrated_data.html">
   Integrated Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ivy_5_future_works.html">
   Future Works
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ivy_7_more_interesting_works.html">
   More Interesting Works and Cultural Data Sources
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data analysis
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="data_analysis_intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="RmdTest.html">
   DAAO Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Archies.html">
   Archibald Prize
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="TLC%20Workshop.html">
   TLC Workshop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="DAQA%20Workshop.html">
   DAQA Workshop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="DAQA%20Analysis.html">
   DAQA Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="CircusOzEDA.html">
   Circus Oz Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="AusStage.html">
   AusStage symposium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="DAAO_Venues.html">
   DAAO venues and organisations
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/DAAO_TLC.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/acd-engine/jupyterbook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/acd-engine/jupyterbook/issues/new?title=Issue%20on%20page%20%2FDAAO_TLC.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/acd-engine/jupyterbook/master?urlpath=tree/docs/DAAO_TLC.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#most-frequent-geocodes">
   Most frequent geocodes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-sydney-location">
     590 places with random Sydney location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-adelaide-location">
     116 places with random Adelaide location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-melbourne-location">
     411 places with random Melbourne location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-brisbane-location">
     240 places with random Brisbane location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#art-gallery-of-new-south-wales-sydney-nsw-520-events">
     Art Gallery of New South Wales, Sydney, NSW - 520 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wollongong-city-gallery-218-events">
     Wollongong City Gallery - 218 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#national-gallery-of-victoria-melbourne-vic-215-events">
     National Gallery of Victoria, Melbourne, VIC - 215 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-perth-location">
     55 places with random Perth location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#queensland-art-gallery-brisbane-qld-168-events">
     Queensland Art Gallery, Brisbane, QLD - 168 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#museums-and-art-galleries-of-the-northern-territory-darwin-nt-160-events">
     Museums and Art Galleries of the Northern Territory, Darwin, NT - 160 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-canberra-location">
     65 places with random Canberra location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-london-uk-location">
     75 places with random London, UK location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-paddington-nsw-location">
     54 places with random Paddington, NSW location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#national-gallery-of-australia-canberra-act-132-events">
     National Gallery of Australia, Canberra, ACT - 132 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#newcastle-region-art-gallery-newcastle-nsw-125-events">
     Newcastle Region Art Gallery, Newcastle, NSW - 125 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#art-gallery-of-western-australia-perth-wa-117-events">
     Art Gallery of Western Australia, Perth, WA - 117 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#orange-regional-gallery-orange-nsw-113-events">
     Orange Regional Gallery, Orange, NSW - 113 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-hobart-location">
     60 places with random Hobart location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#warrnambool-art-gallery-warrnambool-vic-102-events">
     Warrnambool Art Gallery, Warrnambool, VIC - 102 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#museum-of-contemporary-art-sydney-nsw-however-errors-in-the-data">
     Museum of Contemporary Art, Sydney, NSW, however errors in the data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#llankelly-place-kings-cross-sydney-2011-100-events">
     8 Llankelly Place, Kings Cross, Sydney, 2011 - 100 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#top-10-geocoded-places-with-most-events">
     Top 10 geocoded places with most events
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#most-frequent-terms-used-for-place-names">
   Most frequent terms used for place names
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hierarchical-clustering-using-event-description-data">
   Hierarchical clustering using event description data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hierarchical-clustering-tf-idf">
     Hierarchical clustering (tf-idf)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hierarchical-clustering-bert">
     Hierarchical clustering (BERT)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hierarchical-clustering-bert-after-omitting-erroneous-geocodes-that-occur-frequently">
     Hierarchical clustering (BERT) after omitting erroneous geocodes that occur frequently
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#organisations">
   Organisations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temporal-analysis-of-venues">
   Temporal analysis of venues
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#proportions">
     Proportions
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>DAAO venues and organisations</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#most-frequent-geocodes">
   Most frequent geocodes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-sydney-location">
     590 places with random Sydney location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-adelaide-location">
     116 places with random Adelaide location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-melbourne-location">
     411 places with random Melbourne location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-brisbane-location">
     240 places with random Brisbane location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#art-gallery-of-new-south-wales-sydney-nsw-520-events">
     Art Gallery of New South Wales, Sydney, NSW - 520 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wollongong-city-gallery-218-events">
     Wollongong City Gallery - 218 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#national-gallery-of-victoria-melbourne-vic-215-events">
     National Gallery of Victoria, Melbourne, VIC - 215 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-perth-location">
     55 places with random Perth location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#queensland-art-gallery-brisbane-qld-168-events">
     Queensland Art Gallery, Brisbane, QLD - 168 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#museums-and-art-galleries-of-the-northern-territory-darwin-nt-160-events">
     Museums and Art Galleries of the Northern Territory, Darwin, NT - 160 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-canberra-location">
     65 places with random Canberra location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-london-uk-location">
     75 places with random London, UK location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-paddington-nsw-location">
     54 places with random Paddington, NSW location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#national-gallery-of-australia-canberra-act-132-events">
     National Gallery of Australia, Canberra, ACT - 132 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#newcastle-region-art-gallery-newcastle-nsw-125-events">
     Newcastle Region Art Gallery, Newcastle, NSW - 125 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#art-gallery-of-western-australia-perth-wa-117-events">
     Art Gallery of Western Australia, Perth, WA - 117 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#orange-regional-gallery-orange-nsw-113-events">
     Orange Regional Gallery, Orange, NSW - 113 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#places-with-random-hobart-location">
     60 places with random Hobart location
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#warrnambool-art-gallery-warrnambool-vic-102-events">
     Warrnambool Art Gallery, Warrnambool, VIC - 102 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#museum-of-contemporary-art-sydney-nsw-however-errors-in-the-data">
     Museum of Contemporary Art, Sydney, NSW, however errors in the data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#llankelly-place-kings-cross-sydney-2011-100-events">
     8 Llankelly Place, Kings Cross, Sydney, 2011 - 100 events
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#top-10-geocoded-places-with-most-events">
     Top 10 geocoded places with most events
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#most-frequent-terms-used-for-place-names">
   Most frequent terms used for place names
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hierarchical-clustering-using-event-description-data">
   Hierarchical clustering using event description data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hierarchical-clustering-tf-idf">
     Hierarchical clustering (tf-idf)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hierarchical-clustering-bert">
     Hierarchical clustering (BERT)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hierarchical-clustering-bert-after-omitting-erroneous-geocodes-that-occur-frequently">
     Hierarchical clustering (BERT) after omitting erroneous geocodes that occur frequently
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#organisations">
   Organisations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temporal-analysis-of-venues">
   Temporal analysis of venues
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#proportions">
     Proportions
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="section" id="daao-venues-and-organisations">
<h1>DAAO venues and organisations<a class="headerlink" href="#daao-venues-and-organisations" title="Permalink to this headline">¶</a></h1>
<p>This is an exploratory data analysis of collected data from <a class="reference external" href="https://www.daao.org.au/">DAAO</a>. We focus on venues and organisations adopting natural language processing to reveal patterns in the data.</p>
<p>The visualisations consist of…</p>
<ul class="simple">
<li><p>word clouds</p></li>
<li><p>dendrograms</p></li>
<li><p>time series and temporal bar charts</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="c1"># with open(&quot;./daao_venue_level.json&quot;) as json_file: daoo_venue_data=json.load(json_file)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/daao_event_level.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span> <span class="n">daoo_event_data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>

<span class="c1"># find all events with geolocation</span>
<span class="n">daoo_event_data_geolocated</span><span class="o">=</span><span class="p">[</span><span class="n">coverage_event</span> <span class="k">for</span> <span class="n">coverage_event</span> <span class="ow">in</span> <span class="p">[</span><span class="n">event</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">daoo_event_data</span> <span class="k">if</span> <span class="s1">&#39;coverages&#39;</span> <span class="ow">in</span> <span class="n">event</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;place&#39;</span> <span class="ow">in</span> <span class="n">coverage_event</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>

<span class="c1"># find all geoloacted events with date</span>
<span class="n">daoo_event_data_geolocated_dates</span><span class="o">=</span><span class="p">[</span><span class="n">event</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">daoo_event_data_geolocated</span> <span class="k">if</span> <span class="s1">&#39;date_range&#39;</span> <span class="ow">in</span> <span class="n">event</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>

<span class="c1"># # </span>
<span class="c1"># relevenat_daoo_event_data=[]</span>
<span class="c1"># for geolocated_event_date in daoo_event_data_geolocated_dates:</span>
<span class="c1">#     try:</span>
<span class="c1">#         relevenat_daoo_event_data.append({</span>
<span class="c1">#             &quot;id&quot;:geolocated_event_date[&#39;_id&#39;][&#39;$oid&#39;],</span>
<span class="c1">#             &#39;title&#39;:geolocated_event_date[&#39;title&#39;],</span>
<span class="c1">#             &#39;start_date&#39;:geolocated_event_date[&#39;coverages&#39;][0][&#39;date_range&#39;][&#39;start&#39;][&#39;_date&#39;],</span>
<span class="c1">#             &quot;end_date&quot;:geolocated_event_date[&#39;coverages&#39;][0][&#39;date_range&#39;][&#39;end&#39;][&#39;_date&#39;],</span>
<span class="c1">#             &quot;place_name&quot;:geolocated_event_date[&#39;coverages&#39;][0][&#39;place&#39;][0][&#39;address&#39;],</span>
<span class="c1">#             &#39;latitude&#39;:geolocated_event_date[&#39;coverages&#39;][0][&#39;place&#39;][0][&#39;centroid&#39;][&#39;latitude&#39;],</span>
<span class="c1">#             &#39;longitude&#39;:geolocated_event_date[&#39;coverages&#39;][0][&#39;place&#39;][0][&#39;centroid&#39;][&#39;longitude&#39;],</span>
<span class="c1">#             &#39;slug&#39;:geolocated_event_date[&#39;slug&#39;],</span>
<span class="c1">#             &#39;description&#39;:geolocated_event_date[&#39;description&#39;],</span>
<span class="c1">#             # &#39;type_slug&#39;:geolocated_event_date[&#39;types&#39;][0][&#39;slug&#39;]</span>
<span class="c1">#         })</span>

<span class="c1">#         try: relevenat_daoo_event_data[-1][&#39;type_slug&#39;]=geolocated_event_date[&#39;types&#39;][0][&#39;slug&#39;]</span>
<span class="c1">#         except: relevenat_daoo_event_data[-1][&#39;type_slug&#39;]=None</span>
<span class="c1">#     except:</span>
<span class="c1">#         continue</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="c1"># with open(&quot;./daao_venue_level.json&quot;) as json_file: daoo_venue_data=json.load(json_file)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/daao_event_level.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span> <span class="n">daoo_event_data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>

<span class="c1"># find all events with geolocation</span>
<span class="n">daoo_event_data_geolocated</span><span class="o">=</span><span class="p">[</span><span class="n">coverage_event</span> <span class="k">for</span> <span class="n">coverage_event</span> <span class="ow">in</span> <span class="p">[</span><span class="n">event</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">daoo_event_data</span> <span class="k">if</span> <span class="s1">&#39;coverages&#39;</span> <span class="ow">in</span> <span class="n">event</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;place&#39;</span> <span class="ow">in</span> <span class="n">coverage_event</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>

<span class="c1"># find all geoloacted events with date</span>
<span class="n">daoo_event_data_geolocated_dates</span><span class="o">=</span><span class="p">[</span><span class="n">event</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">daoo_event_data_geolocated</span> <span class="k">if</span> <span class="s1">&#39;date_range&#39;</span> <span class="ow">in</span> <span class="n">event</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>

<span class="c1"># </span>
<span class="n">relevenat_daoo_event_data</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">geolocated_event_date</span> <span class="ow">in</span> <span class="n">daoo_event_data_geolocated_dates</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">relevenat_daoo_event_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;_id&#39;</span><span class="p">][</span><span class="s1">&#39;$oid&#39;</span><span class="p">],</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span>
            <span class="s1">&#39;start_date&#39;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;date_range&#39;</span><span class="p">][</span><span class="s1">&#39;start&#39;</span><span class="p">][</span><span class="s1">&#39;_date&#39;</span><span class="p">],</span>
            <span class="s2">&quot;end_date&quot;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;date_range&#39;</span><span class="p">][</span><span class="s1">&#39;end&#39;</span><span class="p">][</span><span class="s1">&#39;_date&#39;</span><span class="p">],</span>
            <span class="s2">&quot;place_name&quot;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;place&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;address&#39;</span><span class="p">],</span>
            <span class="s1">&#39;latitude&#39;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;place&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;centroid&#39;</span><span class="p">][</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span>
            <span class="s1">&#39;longitude&#39;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;coverages&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;place&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;centroid&#39;</span><span class="p">][</span><span class="s1">&#39;longitude&#39;</span><span class="p">],</span>
            <span class="s1">&#39;slug&#39;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">],</span>
            <span class="s1">&#39;description&#39;</span><span class="p">:</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">],</span>
            <span class="c1"># &#39;type_slug&#39;:geolocated_event_date[&#39;types&#39;][0][&#39;slug&#39;]</span>
        <span class="p">})</span>

        <span class="k">try</span><span class="p">:</span> <span class="n">relevenat_daoo_event_data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;type_slug&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">geolocated_event_date</span><span class="p">[</span><span class="s1">&#39;types&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;slug&#39;</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span> <span class="n">relevenat_daoo_event_data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;type_slug&#39;</span><span class="p">]</span><span class="o">=</span><span class="kc">None</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">continue</span>

<span class="c1"># len(daoo_event_data_geolocated), len(daoo_event_data_geolocated_dates), len(relevenat_daoo_event_data)</span>

<span class="n">df_daoo_relevant_events</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">relevenat_daoo_event_data</span><span class="p">)</span>
<span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">start_date</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">start_date</span> <span class="ow">in</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;start_date&#39;</span><span class="p">]]</span>
<span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">end_date</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">end_date</span> <span class="ow">in</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;end_date&#39;</span><span class="p">]]</span>
<span class="n">df_daoo_relevant_events</span><span class="o">=</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="mi">1900</span><span class="p">,</span><span class="mi">2020</span><span class="p">)]</span>
<span class="c1"># df_daoo_relevant_events=df_daoo_relevant_events[df_daoo_relevant_events[&#39;type_slug&#39;].isin([&quot;exhibition&quot;,&#39;festival&#39;,&#39;performance-event&#39;,&#39;other-event&#39;])]</span>
<span class="c1"># df_slug_freq=pd.DataFrame(dict(Counter(df_daoo_relevant_events[&quot;type_slug&quot;])).items(),columns=[&quot;Slug&quot;,&quot;Frequency&quot;])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;In DAAO,&#39;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_event_data</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> events.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_event_data_geolocated</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> events with geocodes.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_event_data_geolocated_dates</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> events with geocodes and dates.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">relevenat_daoo_event_data</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> events with geocodes, dates and biographical information.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">df_daoo_relevant_events</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> events with geocodes, dates and biographical information after filtering for events between 1900 and 2020.&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">We use the 12,541 events for the remainder of the analysis.&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">In this subset,&#39;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="n">df_daoo_relevant_events</span><span class="o">.</span><span class="n">type_slug</span> <span class="o">==</span> <span class="s2">&quot;exhibition&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> exhibitions (95.0%).&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="n">df_daoo_relevant_events</span><span class="o">.</span><span class="n">type_slug</span> <span class="o">==</span> <span class="s2">&quot;other-event&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> other-events (0.7%).&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="n">df_daoo_relevant_events</span><span class="o">.</span><span class="n">type_slug</span> <span class="o">==</span> <span class="s2">&quot;festival&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> festivals (0.2%).&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="n">df_daoo_relevant_events</span><span class="o">.</span><span class="n">type_slug</span> <span class="o">==</span> <span class="s2">&quot;performance-event&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> performance-event (0.2%).&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;- there are </span><span class="si">{</span><span class="n">df_daoo_relevant_events</span><span class="o">.</span><span class="n">type_slug</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">}</span><span class="s1"> events with missing type data (4.0%).&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">In terms of time,&#39;</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>In DAAO,
- there are 21906 events.
- there are 20087 events with geocodes.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- there are 19418 events with geocodes and dates.
- there are 14020 events with geocodes, dates and biographical information.
- there are 12541 events with geocodes, dates and biographical information after filtering for events between 1900 and 2020.

We use the 12,541 events for the remainder of the analysis.

In this subset,
- there are 11915 exhibitions (95.0%).
- there are 82 other-events (0.7%).
- there are 28 festivals (0.2%).
- there are 20 performance-event (0.2%).
- there are 496 events with missing type data (4.0%).

In terms of time,
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>title</th>
      <th>start_date</th>
      <th>end_date</th>
      <th>place_name</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>slug</th>
      <th>description</th>
      <th>type_slug</th>
      <th>start_year</th>
      <th>end_year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4da194f5b538b73d93000602</td>
      <td>Expo</td>
      <td>1967-01-01</td>
      <td>1967-01-01</td>
      <td>Canadian pavillion, Montreal, Canada</td>
      <td>45.508889</td>
      <td>-73.554167</td>
      <td>expo</td>
      <td>\n</td>
      <td>exhibition</td>
      <td>1967</td>
      <td>1967</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4da194f5b538b73d93000603</td>
      <td>World Crafts Conference</td>
      <td>1964-01-01</td>
      <td>1964-01-01</td>
      <td>New York, USA</td>
      <td>40.714353</td>
      <td>-74.005973</td>
      <td>world-crafts-conference</td>
      <td>\n</td>
      <td>exhibition</td>
      <td>1964</td>
      <td>1964</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4da194f6b538b73d93000635</td>
      <td>Exhibition of water colors by Inez Abbott</td>
      <td>1939-11-23</td>
      <td>1939-01-01</td>
      <td>Sedon Galleries, Melbourne, Vic</td>
      <td>-37.813187</td>
      <td>144.962980</td>
      <td>exhibition-of-water-colors-by-inez-abbott</td>
      <td>\n</td>
      <td>exhibition</td>
      <td>1939</td>
      <td>1939</td>
    </tr>
    <tr>
      <th>8</th>
      <td>4da194f9b538b73d93000805</td>
      <td>Royal Art Society</td>
      <td>1914-01-01</td>
      <td>1914-01-01</td>
      <td>Sydney, NSW</td>
      <td>-33.868901</td>
      <td>151.207091</td>
      <td>royal-art-society</td>
      <td>\n</td>
      <td>exhibition</td>
      <td>1914</td>
      <td>1914</td>
    </tr>
    <tr>
      <th>10</th>
      <td>4da194f9b538b73d93000812</td>
      <td>NSW Society of Artists</td>
      <td>1907-01-01</td>
      <td>1907-01-01</td>
      <td>Sydney, NSW</td>
      <td>-33.868901</td>
      <td>151.207091</td>
      <td>nsw-society-of-artists</td>
      <td>\n</td>
      <td>exhibition</td>
      <td>1907</td>
      <td>1907</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>14015</th>
      <td>5fa2763bd707ff5dda00001f</td>
      <td>Rockhampton Art Gallery</td>
      <td>1995-05-1</td>
      <td>1995-05-26</td>
      <td>Rockhampton, Queensland, Australia</td>
      <td>-23.375000</td>
      <td>150.511667</td>
      <td>rockhampton-art-gallery</td>
      <td>'Dell Nash mid-career retrospective' was the f...</td>
      <td>None</td>
      <td>1995</td>
      <td>1995</td>
    </tr>
    <tr>
      <th>14016</th>
      <td>5fd1fcdad707ff54d900001c</td>
      <td>Know My Name: Australian Women Artists 1900 to...</td>
      <td>2020-11-14</td>
      <td>2021-07-04</td>
      <td>National Gallery of Australia, Canberra, ACT</td>
      <td>-35.300530</td>
      <td>149.136282</td>
      <td>know-my-name-australian-women-artists-1900-to-now</td>
      <td>Know My Name is an exhibition in two parts at ...</td>
      <td>None</td>
      <td>2020</td>
      <td>2021</td>
    </tr>
    <tr>
      <th>14017</th>
      <td>5fdc8777d707ff54d9000199</td>
      <td>2020 MonsterFest Melbourne</td>
      <td>2020-12-7</td>
      <td>2020-12-7</td>
      <td>Cinema Nova, Melbourne, VIC</td>
      <td>-37.798024</td>
      <td>144.968153</td>
      <td>2020-monsterfest-melbourne</td>
      <td>*Pirouette* screened in Melbourne at the Cinem...</td>
      <td>festival</td>
      <td>2020</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>14018</th>
      <td>605e6be5d707ff7929000032</td>
      <td>H R Hughan Retrospective Exhibition</td>
      <td>1969-1-1</td>
      <td>1969-1-1</td>
      <td>National Gallery of Victoria, Melbourne, Vic.</td>
      <td>-37.822536</td>
      <td>144.969113</td>
      <td>h-r-hughan-retrospective-exhibition</td>
      <td>The first scholarly retrospective exhibition o...</td>
      <td>None</td>
      <td>1969</td>
      <td>1969</td>
    </tr>
    <tr>
      <th>14019</th>
      <td>605e6d04d707ff7929000036</td>
      <td>\tHughan Harold Hughan : a retrospective exhib...</td>
      <td>1983-07-11</td>
      <td>1983-09-25</td>
      <td>National Gallery of Victoria, Melbourne, Vic.</td>
      <td>-37.822536</td>
      <td>144.969113</td>
      <td>hughan-harold-hughan-a-retrospective-exhibitio...</td>
      <td>A comprehensive exhibition of Harold Hughan's ...</td>
      <td>None</td>
      <td>1983</td>
      <td>1983</td>
    </tr>
  </tbody>
</table>
<p>12541 rows × 12 columns</p>
</div></div></div>
</div>
<div class="section" id="most-frequent-geocodes">
<h2>Most frequent geocodes<a class="headerlink" href="#most-frequent-geocodes" title="Permalink to this headline">¶</a></h2>
<p>Before jumping into the visuals, we inspect the nuances of the geocodes attached to exhibtion data. We find that the geocodes are not always accurate, and that there are many distinct venues representing the same geocode. Further pre-processing will need to be conducted to ensure downstream trends can be accurately identified.</p>
<p>Below is a list of the top 20 geocodes, and the number of events they represent. Through further inspection we can see which geocodes accurate represent the place names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">most_freq_geocodes</span> <span class="o">=</span> <span class="n">df_daoo_relevant_events</span><span class="p">[[</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">})</span>
<span class="n">most_freq_geocodes</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>latitude</th>
      <th>longitude</th>
      <th>Frequency</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-33.868901</td>
      <td>151.207091</td>
      <td>1973</td>
    </tr>
    <tr>
      <th>1</th>
      <td>-34.928621</td>
      <td>138.599959</td>
      <td>1066</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-37.813187</td>
      <td>144.962980</td>
      <td>1003</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-27.470933</td>
      <td>153.023502</td>
      <td>868</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-33.868627</td>
      <td>151.217062</td>
      <td>459</td>
    </tr>
    <tr>
      <th>5</th>
      <td>-34.416667</td>
      <td>150.883333</td>
      <td>218</td>
    </tr>
    <tr>
      <th>6</th>
      <td>-37.822536</td>
      <td>144.969113</td>
      <td>215</td>
    </tr>
    <tr>
      <th>7</th>
      <td>-31.952222</td>
      <td>115.858889</td>
      <td>205</td>
    </tr>
    <tr>
      <th>8</th>
      <td>-27.472096</td>
      <td>153.018173</td>
      <td>168</td>
    </tr>
    <tr>
      <th>9</th>
      <td>-12.437368</td>
      <td>130.833821</td>
      <td>160</td>
    </tr>
    <tr>
      <th>10</th>
      <td>-35.308056</td>
      <td>149.124444</td>
      <td>150</td>
    </tr>
    <tr>
      <th>11</th>
      <td>51.500152</td>
      <td>-0.126236</td>
      <td>142</td>
    </tr>
    <tr>
      <th>12</th>
      <td>-33.884611</td>
      <td>151.226586</td>
      <td>140</td>
    </tr>
    <tr>
      <th>13</th>
      <td>-35.300530</td>
      <td>149.136282</td>
      <td>132</td>
    </tr>
    <tr>
      <th>14</th>
      <td>-32.929205</td>
      <td>151.772973</td>
      <td>125</td>
    </tr>
    <tr>
      <th>15</th>
      <td>-31.950414</td>
      <td>115.860604</td>
      <td>117</td>
    </tr>
    <tr>
      <th>16</th>
      <td>-33.281886</td>
      <td>149.102659</td>
      <td>113</td>
    </tr>
    <tr>
      <th>17</th>
      <td>-42.881903</td>
      <td>147.323815</td>
      <td>109</td>
    </tr>
    <tr>
      <th>18</th>
      <td>-38.385530</td>
      <td>142.482454</td>
      <td>102</td>
    </tr>
    <tr>
      <th>19</th>
      <td>-33.860064</td>
      <td>151.208954</td>
      <td>101</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="places-with-random-sydney-location">
<h3>590 places with random Sydney location<a class="headerlink" href="#places-with-random-sydney-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Sydney, NSW                                 248
Artspace, Sydney, NSW                        97
Macquarie Galleries, Sydney, NSW             64
Sherman Galleries, Sydney, NSW               56
Sydney, New South Wales                      54
                                           ... 
Rex Livingston Art Dealer, Sydney, NSW        1
Bondi coastal walk, Sydney, NSW               1
Sherman Galleries Goodhope, Sydney            1
Sherman Galleries Hargrave, Sydney, NSW       1
Watters Gallery, Sydney, New South Wales      1
Name: place_name, Length: 590, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-adelaide-location">
<h3>116 places with random Adelaide location<a class="headerlink" href="#places-with-random-adelaide-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Experimental Art Foundation, Adelaide, SA                   430
Contemporary Art Centre of South Australia, Adelaide, SA    346
Adelaide, SA                                                 36
Adelaide Central Gallery, Adelaide, SA                       36
Greenaway Art Gallery, Adelaide, SA                          31
                                                           ... 
SA Museum, Adelaide, SA                                       1
BMGArt, Adelaide, SA                                          1
Peel Street Art Gallery, Adelaide, SA                         1
Royal Society of Arts Gallery, Adelaide, SA                   1
Adelaide                                                      1
Name: place_name, Length: 116, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-melbourne-location">
<h3>411 places with random Melbourne location<a class="headerlink" href="#places-with-random-melbourne-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Melbourne, Vic.                                                 75
Monash University Museum of Art, Melbourne, VIC                 39
RMIT Gallery, Melbourne, VIC                                    37
Australian Centre for Contemporary Art, Melbourne, VIC          33
Melbourne, Victoria                                             29
                                                                ..
Ardwolf Gallery, Melbourne, Vic.                                 1
First Floor Gallery, Melbourne, Vic.                             1
ANZ Building, Melbourne, Vic.                                    1
Studio 12, Gertrude Contemporary Art Spaces, Melbourne, Vic.     1
Riddell Galleries, Melbourne, Vic.                               1
Name: place_name, Length: 411, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-brisbane-location">
<h3>240 places with random Brisbane location<a class="headerlink" href="#places-with-random-brisbane-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Institute of Modern Art, Brisbane, QLD                                       217
Brisbane, Qld                                                                 95
Brisbane City Art Gallery, Brisbane, Qld                                      68
Brisbane, QLD                                                                 32
Brisbane, Queensland                                                          21
                                                                            ... 
Finney&#39;s Auditoium, Brisbane, QLD                                              1
Contemporary Art Society of Australia ( Queensland Branch), Brisbane, QLD      1
Finney&#39;s Auditorium, Brisbane, QLD                                             1
Eager&#39;s Retail Pty Ltd, Brisbane, QLD                                          1
QUT Art Museum, Brisbane, QLD                                                  1
Name: place_name, Length: 240, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="art-gallery-of-new-south-wales-sydney-nsw-520-events">
<h3>Art Gallery of New South Wales, Sydney, NSW - 520 events<a class="headerlink" href="#art-gallery-of-new-south-wales-sydney-nsw-520-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Art Gallery of New South Wales, Sydney, NSW                                      397
Art Gallery of NSW, Sydney, NSW                                                   24
National Art Gallery of New South Wales, Sydney, NSW                               6
Art Gallery Of New South Wales, Sydney, NSW                                        4
[National] Art Gallery of New South Wales, Sydney, New South Wales                 4
Art Gallery of New South Wales, Sydney, New South Wales                            3
[National] Art Gallery of New South Wales, Sydney, NSW                             3
Art Gallery New South Wales, Sydney, NSW                                           2
Art Gallery of NSW                                                                 2
Art Gallery of NSW, Sydney, Australia.                                             1
Art Gallery of New South Wales                                                     1
Art Gallery of  New South Wales, Sydney, NSW                                       1
Level 2, Art Gallery of NSW, Sydney, NSW                                           1
Art Gallery of NSW Sydney, NSW                                                     1
Art Gallery of New South Wales, Sydney NSW                                         1
Art Gallery of New South Wales, Sydney, NSW.                                       1
Gallery of New South Wales, Sydney, NSW                                            1
Art Gallery of New South Wales, Sydney, 14 October - 29 November 1987;             1
Art Gallery of New South Wales, Sydney , NSW                                       1
(National) Art Gallery of New South Wales, Sydney                                  1
Art Gallery of New South Wales, Sydney, New South Wales, Australia                 1
Art Gallery of New South Wales, Sydney, NSW (inaugural year of competition)        1
Level 2 Contemporary Art Project, Art Gallery of New South Wales, Sydney, NSW      1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="wollongong-city-gallery-218-events">
<h3>Wollongong City Gallery - 218 events<a class="headerlink" href="#wollongong-city-gallery-218-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">5</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Wollongong City Gallery, Wollongong, NSW                                                                                 178
Wollongong City Art Gallery, Wollongong, NSW                                                                               9
Project Centre for Contemporary Art, Wollongong, NSW                                                                       5
Wollongong City Gallery, NSW                                                                                               4
Wollongong, NSW                                                                                                            2
Wollongong City Art Gallery, Wollongong, New South Wales                                                                   2
Wollongong Art Gallery, Wollongong, NSW                                                                                    2
Wollongong Regional Gallery, NSW                                                                                           2
Project Contemporary Artspace, Wollongong, NSW                                                                             2
Wollongong City Art Gallery, NSW                                                                                           2
Michael Milburn Gallery, Brisbane, QLD; Arts Council Gallery, Canberra, ACT; Wollongong City Gallery, Wollongong, NSW      1
Wollongong City Gallery, NSW; Brisbane St Johns Cathedral, QLD; Hobart Carnegie Gallery, TAS                               1
Bega Regional Gallery and &quot;Project Space&quot;, Wollongong, NSW                                                                 1
Faces on Crown, Wollongong, NSW                                                                                            1
stairs Gallery, Wollongong, NSW                                                                                            1
FCA Gallery, University of Wollongong, NSW                                                                                 1
Karoona Gallery, Wollongong West TAFE, Wollongong, NSW                                                                     1
University of Wollongong&#39;s Faculty of Creative Arts Gallery, Wollongong, NSW                                               1
Wollongong City Gallery, Wollongong, NSW (and touring)                                                                     1
Long Gallery, Faculty of Creative Arts, Wollongong University, Wollongong, NSW                                             1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="national-gallery-of-victoria-melbourne-vic-215-events">
<h3>National Gallery of Victoria, Melbourne, VIC - 215 events<a class="headerlink" href="#national-gallery-of-victoria-melbourne-vic-215-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">6</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>National Gallery of Victoria, Melbourne, VIC                                                         119
National Gallery of Victoria, Melbourne, Vic.                                                         65
Ian Potter Centre, National Gallery of Victoria, Melbourne, VIC                                       11
National Gallery of Victoria, Melbourne, Victoria                                                      4
Access Gallery, National Gallery of Victoria, Melbourne, Vic.                                          3
Ian Potter Centre, National Gallery of Victoria, Melbourne, Vic.                                       3
National Gallery of Victoria, Vic.                                                                     1
National Gallery of Victoria, Melbourne                                                                1
National Gallery of Victoria, Melbourne, Vic; Bonython Gallery, Sydney, NSW                            1
Dusseldorf, Germany; London, UK; Humleaek, Denmark; National Gallery of Victoria, Melbourne, Vic.      1
Next Wave Festival, National Gallery of Victoria, Melbourne, Vic.                                      1
National GAllery of Victoria, Melbourne, Vic.                                                          1
Ian Potter Gallery, National Gallery of Victoria, Melbourne, VIC                                       1
The Ian Potter Centre, National Gallery of Victoria, Melbourne, VIC                                    1
National Gallery of Victoria, VIC                                                                      1
Australian Centre for the Moving Image, National Gallery of Victoria, Melbourne, VIC                   1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-perth-location">
<h3>55 places with random Perth location<a class="headerlink" href="#places-with-random-perth-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">7</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Perth, WA                                                                      51
John Curtin Gallery, Curtin University, Perth, WA                              42
Perth Institute of Contemporary Art, Perth, WA                                 13
Greenhill Galleries, Perth, WA                                                  8
Perth Institute of Contemporary Arts, Perth, WA                                 7
Galerie Dusseldorf, Perth, WA                                                   6
Katanning Arts Centre, Katanning &amp; Western Australian Museum, Perth, WA         5
Goddard de Fiddes Gallery, Perth, WA                                            4
Emerge Art Space, Perth, WA                                                     4
Turner Galleries, Perth, WA                                                     4
Goddard de Fiddes Contemporary Art, Perth, WA                                   4
John Curtin Gallery, Perth, WA                                                  3
Central TAFE Art Gallery, Perth, WA                                             3
Gadfly Gallery, Perth, WA                                                       2
Johnston Gallery, Perth, WA                                                     2
Skinner Galleries, Perth, WA                                                    2
Perth, Western Australia                                                        2
The Church Gallery, Perth, WA                                                   2
Women&#39;s Electoral Lobby, Perth, WA                                              2
Linton and Kay, Perth, WA                                                       2
Goddard de Fiddes, Perth, WA                                                    2
Lawrence Wilson Art Gallery, Perth, WA                                          2
Wilkinson Pavilion, Perth Royal Show, Perth, WA                                 1
Artist in Residence Gallery, Perth, WA                                          1
Art Gallery of WA Foyer, Perth, WA                                              1
Perth Galleries, Perth, WA                                                      1
Princess Chambers, Perth, WA                                                    1
Monart Studio &amp; Gallery, Perth, WA                                              1
Greenwich, His Majesty&#39;s Theatre, Artrage Festival, Perth, WA                   1
Artist In Residence Gallery, Perth, WA                                          1
Artplace, Perth, WA                                                             1
PICA, Perth, WA                                                                 1
Gallery G, Perth, WA                                                            1
Mundaring Art Centre, Perth, WA                                                 1
Tomorrow&#39;s Home, Spectrum Project Space, Perth, WA                              1
Katanning Arts Centre, Katanning, WA &amp; Western Australian Museum, Perth, WA     1
Accent Fine Art Gallery, Perth, WA                                              1
Newspaper House Gallery, Perth, WA                                              1
Verge Gallery, Perth, Western Australia                                         1
Dreamtime Gallery, Perth, WA                                                    1
Women&#39;s Electoral Lobby (WA), Perth, WA                                         1
John Curtin University Gallery, Perth, WA                                       1
The Church Gallery, Perth International Arts Festival, Perth, WA                1
Goddard de Fiddes, Perth , WA                                                   1
Praxis Gallery, Perth, WA                                                       1
Johnston Gallery, Perth, WA.                                                    1
Curtin Museum of Art, Perth, WA                                                 1
Central Tafe Art Gallery, Perth, WA                                             1
Indigenart, Mossenson Galleries, Perth, WA                                      1
Craftwest Gallery, Perth, WA                                                    1
Perth Craft West Centre                                                         1
Lime Flowers, Perth, WA                                                         1
South West Aboriginal Land and Sea Council, Perth, WA                           1
Aboriginal Advancement Council of Western Australia, Perth, WA                  1
Church Gallery, Perth, WA                                                       1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="queensland-art-gallery-brisbane-qld-168-events">
<h3>Queensland Art Gallery, Brisbane, QLD - 168 events<a class="headerlink" href="#queensland-art-gallery-brisbane-qld-168-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">8</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Queensland Art Gallery, Brisbane, QLD           113
Queensland Art Gallery, Brisbane, Qld            31
Queensland Art Gallery, Brisbane, Qld.            9
Queensland Art Gallery, Brisbane                  2
Queensland Art Gallery, South Brisbane, QLD       2
Queensland Art Gallery, Brisbane. QLD             2
Queensland Art Gallery, Brsbane, QLD              2
Queensland Art Gallery, Brisbane. Qld.            1
Queensland Art Gallery, Brisbane, Queensland      1
Queensland Gallery of Art, Brisbane, Qld          1
Queesland Art Gallery,Brisbane, QLD               1
Quieensland Art Gallery, Brisbane, Qld            1
Queensland Art Gallery, brisbane, QLD             1
Queensland ArtGallery, Brisbane, QLD              1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="museums-and-art-galleries-of-the-northern-territory-darwin-nt-160-events">
<h3>Museums and Art Galleries of the Northern Territory, Darwin, NT - 160 events<a class="headerlink" href="#museums-and-art-galleries-of-the-northern-territory-darwin-nt-160-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">9</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Museums and Art Galleries of the Northern Territory, Darwin, NT      122
Museum and Art Gallery of the Northern Territory, Darwin, NT          22
Museum &amp; Art Gallery of the Northern Territory, Darwin, NT             5
Museums and Art Gallery of the Northern Territory, Darwin              2
Museum &amp; Gallery of Northern Territory, Darwin, NT                     2
Museums and Art Galleries of the Northern Territory, Darwin NT.        2
Northern Territory Museums and Art Galleris, Darwin, NT                1
Museum and Art Gallery, Darwin, NT                                     1
Museum and Art Gallery of the Northern Territory , Darwin, NT          1
Museums and Art Galleries of the Northern Territories, Darwin, NT      1
Darwin Museum and Art Gallery, NT                                      1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-canberra-location">
<h3>65 places with random Canberra location<a class="headerlink" href="#places-with-random-canberra-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Canberra Contemporary Art Space, Canberra, ACT           20
National Portrait Gallery, Canberra, ACT                 15
Beaver Galleries, Canberra, ACT                          15
Canberra, ACT                                            12
aGOG (australian Girls Own Gallery), Canberra, ACT        6
                                                         ..
australian Girls Own Gallery, Canberra, ACT               1
Crafts Council of Australia, Canberra, ACT                1
ANU Drill Hall Gallery, Canberra ACT                      1
Lanyon homestead, Canberra, ACT                           1
Canberra Contemporary Artspace, Manuka, Canberra, ACT     1
Name: place_name, Length: 65, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-london-uk-location">
<h3>75 places with random London, UK location<a class="headerlink" href="#places-with-random-london-uk-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">11</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>London, England, UK                                  30
Burlington House, Piccadilly, London, England, UK    17
London, UK                                            8
London, England                                       5
Primavera, London, UK                                 4
                                                     ..
Transition Gallery, London, UK                        1
Century Gallery, ACAVA Studios, London, UK            1
Jerwood Space, London, UK                             1
Air &amp; Space Studio, London, UK                        1
London                                                1
Name: place_name, Length: 75, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-paddington-nsw-location">
<h3>54 places with random Paddington, NSW location<a class="headerlink" href="#places-with-random-paddington-nsw-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">12</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">12</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ivan Dougherty Gallery, COFA, UNSW, Paddington, NSW                                                        24
Kaliman Gallery, Paddington, Sydney, NSW                                                                   10
Roslyn Oxley9 Gallery, Paddington, Sydney, NSW                                                              9
Mary Place Gallery, Paddington, NSW                                                                         8
Ivan Dougherty Gallery, Paddington, Sydney, NSW                                                             7
Global Gallery, Paddington, NSW                                                                             7
Barry Stern Galleries, Paddington, New South Wales                                                          4
Josef Lebovic Gallery, Paddington, Sydney, NSW                                                              4
Holdsworth Galleries, Paddington, Sydney, NSW                                                               4
Sherman Galleries, Paddington, NSW                                                                          4
Marlene Antico Fine Arts, Paddington, NSW                                                                   3
Kudos Gallery, Paddington, NSW                                                                              3
Australian Centre for Photography, Paddington, NSW                                                          3
Josef Lebovic Gallery, Paddington, New South Wales                                                          2
Holdsworth Contemporary Galleries, Paddington, Sydney, NSW                                                  2
Global Gallery, Paddington, Sydney, NSW                                                                     2
Josef Lebovic Gallery, Paddington, NSW                                                                      2
Coventry Gallery, Paddington, Sydney, NSW                                                                   2
Mary Place Gallery, Paddington, Sydney, NSW                                                                 2
Christopher Day Gallery, Paddington, NSW                                                                    2
Ivan Dougherty Gallery, Paddington, NSW                                                                     2
Sherman Galleries, Paddington, Sydney, NSW                                                                  2
Ivan Dougherty Gallery, College of Fine Arts, University of New South Wales, Paddington, NSW                1
Australian Centre for Photography, Paddington, Sydney, NSW                                                  1
Artbox at Sherman Galleries, Paddington, NSW                                                                1
Stills Gallery, Paddington, NSW                                                                             1
Byron Mapp Gallery, Paddington, NSW                                                                         1
College of Fine Arts Exhibition/Performance Spaces, Paddington, Sydney, NSW                                 1
Bonython Gallery, Paddington, NSW                                                                           1
College of Fine Arts Gallery, University of New South Wales, Paddington, Sydney, NSW                        1
Tim Olsen Gallery, Paddington, NSW                                                                          1
Tim Olsen Gallery, Paddington, Sydney, NSW                                                                  1
Ivan Dougherty Gallery, COFA, UNSW, Paddington, Sydney, NSW                                                 1
Kudos Gallery, Paddington, Sydney, NSW                                                                      1
Barry Stern Gallery, Paddington, NSW                                                                        1
Little Gallery, Paddington, Sydney, NSW                                                                     1
COFAspace Gallery, College of Fine Arts, Paddington, NSW                                                    1
Andrew Crawford Gallery, Paddington, NSW                                                                    1
Iain Dawson Gallery, Paddington, NSW                                                                        1
Ivan Dougherty Gallery, University of New South Wales College of Fine Arts, Paddington, New South Wales     1
Bloomfield Galleries, Paddington, NSW                                                                       1
Hogarth Gallery, Paddington, Sydney, NSW                                                                    1
Paddington, Sydney, NSW                                                                                     1
Ivan Dougherty Gallery,  College of Fine Arts, University of New South Wales, Paddington, Sydney, NSW       1
Ivan Dougherty Gallery, College of Fine Arts, University of New South Wales, Paddington, Sydney, NSW        1
Roslyn Oxley9, Paddington, Sydney, NSW                                                                      1
Ivan Dougherty Gallery, The University of NSW, College of Fine Arts, Paddington, NSW.                       1
Roslyn Oxley 9 Gallery, Paddington, NSW                                                                     1
Arthouse Gallery, Paddington, NSW                                                                           1
Savill Galleries, Paddington, NSW                                                                           1
COFAspace, College of Fine Arts, Paddington, NSW                                                            1
Casey Galleries, Paddington, NSW                                                                            1
Ivan Dougherty Gallery, College of Fine Arts, Paddington, NSW                                               1
College of Fine Arts, University of NSW, Paddington, Sydney, NSW                                            1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="national-gallery-of-australia-canberra-act-132-events">
<h3>National Gallery of Australia, Canberra, ACT - 132 events<a class="headerlink" href="#national-gallery-of-australia-canberra-act-132-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">13</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">13</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>National Gallery of Australia, Canberra, ACT                                  112
Australian National Gallery, Canberra, ACT                                     10
National Gallery of Australia, Canberra, ACT (and touring)                      3
National Gallery of Australia, Canberra                                         1
National Gallery of Australia, Canberra, ACT, (and touring)                     1
Australian National Gallery, Parkes, ACT                                        1
Marsh Pond, Sculpture Garden, National Gallery of Australia, Canberra, ACT      1
The Drill Hall Gallery, ANU &amp; National Gallery of Australia, Canberra, ACT      1
National Gallery Australia, Canberra, ACT                                       1
National Gallery, Canberra, ACT                                                 1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="newcastle-region-art-gallery-newcastle-nsw-125-events">
<h3>Newcastle Region Art Gallery, Newcastle, NSW - 125 events<a class="headerlink" href="#newcastle-region-art-gallery-newcastle-nsw-125-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">14</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">14</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Newcastle Region Art Gallery, Newcastle, NSW              101
Newcastle Regional Art Gallery, Newcastle, NSW             14
Newcastle Regional Art Gallery, NSW                         3
Newcastle Region Art Gallery , Newcastle, NSW               1
Newcastle Regional Art Gallery,  Newcastle, NSW             1
Newcastle City Art Gallery, Newcastle, New South Wales      1
Tighes Hill Gallery, Newcastle, NSW                         1
Newcastle Regional Art Gallery, Newscastle, NSW             1
Art Gallery Newcastle, NSW                                  1
Newcastle Region Gallery, Newcastle, NSW                    1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="art-gallery-of-western-australia-perth-wa-117-events">
<h3>Art Gallery of Western Australia, Perth, WA - 117 events<a class="headerlink" href="#art-gallery-of-western-australia-perth-wa-117-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">15</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Art Gallery of Western Australia, Perth, WA                  112
Art Gallery of Western Australia, Perth, WA (and touring)      3
Art Gallery of Western Australia, Perth                        1
Western Australian Art Gallery, Perth, WA                      1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="orange-regional-gallery-orange-nsw-113-events">
<h3>Orange Regional Gallery, Orange, NSW - 113 events<a class="headerlink" href="#orange-regional-gallery-orange-nsw-113-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">16</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">16</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Orange Regional Gallery, Orange, NSW        100
Orange Regional Art Gallery, Orange, NSW      8
Orange Regional Gallery, NSW                  4
Orange Regional Gallery                       1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="places-with-random-hobart-location">
<h3>60 places with random Hobart location<a class="headerlink" href="#places-with-random-hobart-location" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">17</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">17</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Bett Gallery, Hobart, Tas.                                                         8
Hobart, TAS                                                                        8
Hobart, Tasmania                                                                   6
Hobart, Tas.                                                                       5
Dick Bett Gallery, Hobart, Tas.                                                    4
University of Tasmania Fine Arts Gallery, Hobart, Tasmania                         4
Art Mob, Hobart, TAS                                                               4
Tasmanian Museum &amp; Art Gallery, Hobart, TAS                                        4
Plimsoll Gallery, Hobart, TAS                                                      4
Entrepot Gallery, Hobart, TAS                                                      3
Long Gallery, Salamanca Arts Centre, Hobart, Tas.                                  2
Bond Store, Tasmanian Museum and Art Gallery, Hobart, TAS                          2
Long Gallery, Salamanca Art Centre, Hobart, TAS                                    2
Chameleon Contemporary Art Space, Hobart, Tas.                                     2
CAST Gallery, Hobart, TAS                                                          2
Carnegie Gallery, Hobart, Tas.                                                     2
School of Art, Tasmanian College of Advanced Education in Hobart, TAS              2
Hobart, Tas                                                                        2
Moonah Arts Centre, Hobart, TAS                                                    2
Art Mob, Hobart, Tas.                                                              1
AMP Building, Hobart, TAS                                                          1
Art Mob Gallery, Hobart, TAS                                                       1
Moonbird Heritage Trust, Hobart, TAS                                               1
Henry Jones Art Hotel, Hobart, TAS                                                 1
Ten Days On the Island, Port Arthur and Hobart, TAS                                1
Loft Gallery, Salamanca Arts Centre, Hobart, TAS                                   1
Off Centre Gallery, Salamanca Arts Centre, Hobart, TAS                             1
Salamanca Gallery, Hobart,TAS                                                      1
The Long Gallery, Hobart, TAS                                                      1
Art Mob, Hobart, TAS.                                                              1
Chameleon Gallery Hobart, TAS                                                      1
Experimental Art Foundation, Adelaide; Anzart-in-Hobart, TAS                       1
Plimsoll Gallery, Tasmanian School of Art, Hobart, TAS                             1
North Hobart Photographic Gallery, Hobart, TAS                                     1
Adult Education Board of Tasmania, Hobart, TAS                                     1
Plimsoll Gallery, Hobart, Tasmania                                                 1
Hobart                                                                             1
Theatre Royal, Hobart, Tas.                                                        1
Moonah Art Centre, Hobart, TAS                                                     1
Bett Gallery, Hobart, TAS                                                          1
Plimsoll Gallery, Centre for the Arts, Hobart, Tas.                                1
Freeman Gallery, Hobart, Tas.                                                      1
Carnegie Gallery, Hobart, TAS                                                      1
Fine Arts Gallery, Hobart, TAS                                                     1
Carnegie Gallery, Hobart. Tas.                                                     1
Masterpiece Fine Art Gallery, Hobart, Tas.                                         1
Moonah Arts Centre, Hobart, tas                                                    1
Centre for the Arts Video Department 1980-2000, Long Gallery, Hobart, TAS          1
Snobby Socks Gallery, Hobart, TAS                                                  1
Plimsoll Gallery, Hobart, Tas.                                                     1
Masterpiece Fine Art Gallery, Hobart, Tasmania                                     1
Hobart Town Hall, Hobart, Tas.                                                     1
Long Gallery, Salamanca Arts Centre, Hobart, TAS                                   1
Salamanca Place Gallery, Hobart, Tas.                                              1
Menzies Research Institute, Casino, Hobart, TAS                                    1
Menzies Research Institute, Cascade Covention Centre, Hobart, Tas.                 1
Allport Library and Museum of Fine Arts, State Library of Tasmania, Hobart, TAS    1
Crafts Council of Tasmania Gallery, Hobart, Tas.                                   1
Long Boat Gallery, Hobart, TAS                                                     1
Tasmanian Museum &amp; Art Gallery, Hobart, Tas.                                       1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="warrnambool-art-gallery-warrnambool-vic-102-events">
<h3>Warrnambool Art Gallery, Warrnambool, VIC - 102 events<a class="headerlink" href="#warrnambool-art-gallery-warrnambool-vic-102-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">18</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">18</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warrnambool Art Gallery, Warrnambool, VIC    101
Warrnambool Art Gallery, VIC                   1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="museum-of-contemporary-art-sydney-nsw-however-errors-in-the-data">
<h3>Museum of Contemporary Art, Sydney, NSW, however errors in the data<a class="headerlink" href="#museum-of-contemporary-art-sydney-nsw-however-errors-in-the-data" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">19</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">19</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Museum of Contemporary Art, Sydney, NSW                          87
Mosman Art Gallery, Sydney, NSW                                   9
Performance Space and Museum Of Contemporary Art, Sydney, NSW     1
Musuem of Contemporary Art, Sydney, NSW                           1
St George Museum, Sydney, NSW                                     1
Paddington Contemporary Arts Gallery, Sydney, NSW                 1
Art Sydney, Sydney, NSW                                           1
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="llankelly-place-kings-cross-sydney-2011-100-events">
<h3>8 Llankelly Place, Kings Cross, Sydney, 2011 - 100 events<a class="headerlink" href="#llankelly-place-kings-cross-sydney-2011-100-events" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_daoo_relevant_events</span><span class="p">[(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="o">&amp;</span>\
                        <span class="p">(</span><span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">most_freq_geocodes</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">20</span><span class="p">])][</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8 Llankelly Place, Kings Cross, Sydney, 2011    100
Name: place_name, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="top-10-geocoded-places-with-most-events">
<h3>Top 10 geocoded places with most events<a class="headerlink" href="#top-10-geocoded-places-with-most-events" title="Permalink to this headline">¶</a></h3>
<p>After omitting geocodes with random or erroneous place names, we can see that the “true” top 10 geocoded places with the most events. As expected these are all art galleries.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Venue</p></th>
<th class="text-align:right head"><p>City</p></th>
<th class="text-align:right head"><p>Frequency</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>Art Gallery of New South Wales</p></td>
<td class="text-align:right"><p>Sydney, NSW</p></td>
<td class="text-align:right"><p>520</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Wollongong City Gallery</p></td>
<td class="text-align:right"><p>Wollongong, NSW</p></td>
<td class="text-align:right"><p>218</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>National Gallery of Victoria</p></td>
<td class="text-align:right"><p>Melbourne, VIC</p></td>
<td class="text-align:right"><p>215</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Queensland Art Gallery</p></td>
<td class="text-align:right"><p>Brisbane, QLD</p></td>
<td class="text-align:right"><p>168</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>Museums and Art Galleries of the Northern Territory</p></td>
<td class="text-align:right"><p>Darwin, NT</p></td>
<td class="text-align:right"><p>160</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>National Gallery of Australia</p></td>
<td class="text-align:right"><p>Canberra, ACT</p></td>
<td class="text-align:right"><p>132</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>Newcastle Region Art Gallery</p></td>
<td class="text-align:right"><p>Newcastle, NSW</p></td>
<td class="text-align:right"><p>125</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Art Gallery of Western Australia</p></td>
<td class="text-align:right"><p>Perth, WA</p></td>
<td class="text-align:right"><p>117</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>Orange Regional Gallery</p></td>
<td class="text-align:right"><p>Orange, NSW</p></td>
<td class="text-align:right"><p>113</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>Warrnambool Art Gallery</p></td>
<td class="text-align:right"><p>Warrnambool, VIC</p></td>
<td class="text-align:right"><p>102</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>8 Llankelly Place, Kings Cross</p></td>
<td class="text-align:right"><p>Sydney, NSW</p></td>
<td class="text-align:right"><p>100</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="most-frequent-terms-used-for-place-names">
<h2>Most frequent terms used for place names<a class="headerlink" href="#most-frequent-terms-used-for-place-names" title="Permalink to this headline">¶</a></h2>
<p>From here, we explore the most frequent terms used for place names. We find that the most frequent terms are “Gallery”, “Art”, “Centre”, “Museum”, and “University”.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># find the most frequent words across the strings for place names</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">import</span> <span class="nn">nltk</span>
<span class="c1"># nltk.download(&#39;punkt&#39;)</span>

<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">word_tokenize</span>

<span class="c1"># create a list of all the place names</span>
<span class="n">all_place_names</span> <span class="o">=</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># create a list of all the words in the place names</span>
<span class="n">all_words</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">place_name</span> <span class="ow">in</span> <span class="n">all_place_names</span><span class="p">:</span>
    <span class="n">all_words</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">place_name</span><span class="p">))</span>

<span class="c1"># find top 100 most frequent words</span>
<span class="n">most_freq_words</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">all_words</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># remove a list of all words that are not relevant</span>
<span class="n">words_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="s1">&#39;NSW&#39;</span><span class="p">,</span><span class="s1">&#39;Sydney&#39;</span><span class="p">,</span><span class="s1">&#39;Melbourne&#39;</span><span class="p">,</span><span class="s1">&#39;Adelaide&#39;</span><span class="p">,</span><span class="s1">&#39;South&#39;</span><span class="p">,</span><span class="s1">&#39;SA&#39;</span><span class="p">,</span><span class="s1">&#39;Brisbane&#39;</span><span class="p">,</span><span class="s1">&#39;VIC&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;New&#39;</span><span class="p">,</span> <span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;QLD&#39;</span><span class="p">,</span> <span class="s1">&#39;Vic&#39;</span><span class="p">,</span> <span class="s1">&#39;Wales&#39;</span><span class="p">,</span> <span class="s1">&#39;WA&#39;</span><span class="p">,</span> <span class="s1">&#39;Canberra&#39;</span><span class="p">,</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Perth&#39;</span><span class="p">,</span> <span class="s1">&#39;ACT&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;Qld&#39;</span><span class="p">,</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span><span class="s1">&#39;Wollongong&#39;</span><span class="p">,</span><span class="s1">&#39;TAS&#39;</span><span class="p">,</span><span class="s1">&#39;Queensland&#39;</span><span class="p">,</span><span class="s1">&#39;Newcastle&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Street&#39;</span><span class="p">,</span><span class="s1">&#39;Hobart&#39;</span><span class="p">,</span><span class="s1">&#39;the&#39;</span><span class="p">,</span><span class="s1">&#39;The&#39;</span><span class="p">,</span><span class="s1">&#39;Launceston&#39;</span><span class="p">,</span><span class="s1">&#39;Orange&#39;</span><span class="p">,</span><span class="s1">&#39;UK&#39;</span><span class="p">,</span><span class="s1">&#39;NT&#39;</span><span class="p">,</span><span class="s1">&#39;London&#39;</span><span class="p">,</span><span class="s1">&#39;USA&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Paddington&#39;</span><span class="p">,</span><span class="s1">&#39;Darwin&#39;</span><span class="p">,</span><span class="s1">&#39;for&#39;</span><span class="p">,</span><span class="s1">&#39;Western&#39;</span><span class="p">,</span><span class="s1">&#39;Warrnambool&#39;</span><span class="p">,</span><span class="s1">&#39;Ballarat&#39;</span><span class="p">,</span><span class="s1">&#39;Northern&#39;</span><span class="p">,</span><span class="s1">&#39;Territory&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;England&#39;</span><span class="p">,</span><span class="s1">&#39;Watters&#39;</span><span class="p">,</span><span class="s1">&#39;Macquarie&#39;</span><span class="p">,</span><span class="s1">&#39;Artspace&#39;</span><span class="p">,</span><span class="s1">&#39;St&#39;</span><span class="p">,</span><span class="s2">&quot;&#39;s&quot;</span><span class="p">,</span><span class="s1">&#39;&amp;&#39;</span><span class="p">,</span><span class="s1">&#39;Potter&#39;</span><span class="p">,</span><span class="s1">&#39;Kings&#39;</span><span class="p">,</span><span class="s1">&#39;Ian&#39;</span><span class="p">,</span><span class="s1">&#39;Cross&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;Llankelly&#39;</span><span class="p">,</span><span class="s1">&#39;2011&#39;</span><span class="p">,</span><span class="s1">&#39;Fremantle&#39;</span><span class="p">,</span><span class="s1">&#39;Queen&#39;</span><span class="p">,</span><span class="s1">&#39;Ivan&#39;</span><span class="p">,</span><span class="s1">&#39;Dougherty&#39;</span><span class="p">,</span><span class="s1">&#39;Tasmania&#39;</span><span class="p">,</span><span class="s1">&#39;Central&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Curtin&#39;</span><span class="p">,</span><span class="s1">&#39;France&#39;</span><span class="p">,</span><span class="s1">&#39;Tin&#39;</span><span class="p">,</span><span class="s1">&#39;Sheds&#39;</span><span class="p">,</span><span class="s1">&#39;York&#39;</span><span class="p">,</span><span class="s1">&#39;Monash&#39;</span><span class="p">,</span><span class="s1">&#39;Paris&#39;</span><span class="p">,</span><span class="s1">&#39;Heide&#39;</span><span class="p">,</span><span class="s1">&#39;Place&#39;</span><span class="p">]</span>

<span class="c1"># remove the words from the list of most frequent words</span>
<span class="n">most_freq_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">most_freq_words</span> <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">words_to_remove</span><span class="p">]</span>

<span class="n">most_freq_words_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">most_freq_words</span><span class="p">)</span>

<span class="c1"># add value of two keys</span>
<span class="n">most_freq_words_dict</span><span class="p">[</span><span class="s1">&#39;Gallery&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">most_freq_words_dict</span><span class="p">[</span><span class="s1">&#39;Gallery&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">most_freq_words_dict</span><span class="p">[</span><span class="s1">&#39;Galleries&#39;</span><span class="p">]</span>
<span class="n">most_freq_words_dict</span><span class="p">[</span><span class="s1">&#39;Museum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">most_freq_words_dict</span><span class="p">[</span><span class="s1">&#39;Museum&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">most_freq_words_dict</span><span class="p">[</span><span class="s1">&#39;Museums&#39;</span><span class="p">]</span>

<span class="c1"># remove key &#39;Gallery&#39;</span>
<span class="n">most_freq_words_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;Galleries&#39;</span><span class="p">)</span>
<span class="n">most_freq_words_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;Museums&#39;</span><span class="p">)</span>
<span class="n">most_freq_words_dict2</span> <span class="o">=</span> <span class="n">most_freq_words_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># create a wordcloud with the most frequent words</span>
<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>

<span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
                <span class="n">background_color</span> <span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
                <span class="n">min_font_size</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">most_freq_words_dict</span><span class="p">)</span>

<span class="c1"># plot the WordCloud image</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">facecolor</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">pad</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_53_0.png" src="_images/DAAO_TLC_53_0.png" />
</div>
</div>
</div>
<div class="section" id="hierarchical-clustering-using-event-description-data">
<h2>Hierarchical clustering using event description data<a class="headerlink" href="#hierarchical-clustering-using-event-description-data" title="Permalink to this headline">¶</a></h2>
<p>Next we explore exhibition descriptions using hierarchical clustering; a method used to group similar objects into clusters that follow a hierarchical structure. This can help conceptualise what a taxonomy of venue categories might look like. We use two methods to embed the data, term frequency-inverse document frequency (TF-IDF) and Google’s BERT.</p>
<p>The former is a statistical measure that evaluates how relevant a word is to a document in a collection of documents. The latter is a language model that can embed a sense of “context” to the textual data. This means that the model can quantitatively encode the meaning of a word based on the words that surround it.</p>
<div class="section" id="hierarchical-clustering-tf-idf">
<h3>Hierarchical clustering (tf-idf)<a class="headerlink" href="#hierarchical-clustering-tf-idf" title="Permalink to this headline">¶</a></h3>
<p>The first dendrogram shows the hierarchical clustering of the exhibition descriptions using TF-IDF. We cluster the data into seven groups. The x-axis provides a count (in brackets) of the exhibitition within each respective cluster. We also provide two sets of annotations. The annotations above the x-axis represent the most frequently occuring terms within the event description for each cluster. We limit this list to distinctive words. The annotations below the x-axis represent the most frequently occuring venues for each cluster.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">AgglomerativeClustering</span>
<span class="kn">from</span> <span class="nn">scipy.cluster.hierarchy</span> <span class="kn">import</span> <span class="n">dendrogram</span><span class="p">,</span> <span class="n">fcluster</span>

<span class="c1"># import nltk</span>
<span class="c1"># nltk.download(&#39;stopwords&#39;)</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>

<span class="c1">### collect all relevant textual data from the dataframe</span>
<span class="c1"># replace &#39;-&#39; with &#39;,&#39; in the slug</span>
<span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;slug2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;slug&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span>

<span class="c1"># if description is not \n then append to slug2 in one line</span>
<span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;slug2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;slug2&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>

<span class="c1">### pre-process for NLP</span>
<span class="c1"># Load the documents and their corresponding categorical variables into a Pandas dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;slug2&#39;</span><span class="p">],</span> <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="n">df_daoo_relevant_events</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]})</span>

<span class="c1"># summarise text for each unique place name</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>

<span class="c1">#add new column with count for each category</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;cat_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Clean the text</span>
<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">clean_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;[^a-zA-Z]&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">]</span>
    <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">text</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">clean_text</span><span class="p">)</span>

<span class="c1"># Vectorize the text</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">])</span>


<span class="c1">### Generate clusters</span>

<span class="k">def</span> <span class="nf">get_most_common_word</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">more_words</span> <span class="o">=</span> <span class="p">[],</span> <span class="n">no_of_words</span><span class="o">=</span><span class="mi">25</span><span class="p">):</span>
    <span class="c1"># remove a list of all words that are not relevant</span>
    <span class="c1"># words_to_remove = [&#39;,&#39;,&#39;NSW&#39;,&#39;Sydney&#39;,&#39;Melbourne&#39;,&#39;Adelaide&#39;,&#39;South&#39;,&#39;SA&#39;,&#39;Brisbane&#39;,&#39;VIC&#39;,</span>
    <span class="c1">#                 &#39;.&#39;, &#39;New&#39;, &#39;Australia&#39;, &#39;QLD&#39;, &#39;Vic&#39;, &#39;Wales&#39;, &#39;WA&#39;, &#39;Canberra&#39;, &#39;and&#39;,</span>
    <span class="c1">#                 &#39;Perth&#39;, &#39;ACT&#39;, &#39;of&#39;, &#39;Qld&#39;, &#39;Victoria&#39;,&#39;Wollongong&#39;,&#39;TAS&#39;,&#39;Queensland&#39;,&#39;Newcastle&#39;,</span>
    <span class="c1">#                 &#39;Street&#39;,&#39;Hobart&#39;,&#39;the&#39;,&#39;The&#39;,&#39;Launceston&#39;,&#39;Orange&#39;,&#39;UK&#39;,&#39;NT&#39;,&#39;London&#39;,&#39;USA&#39;,</span>
    <span class="c1">#                 &#39;Paddington&#39;,&#39;Darwin&#39;,&#39;for&#39;,&#39;Western&#39;,&#39;Warrnambool&#39;,&#39;Ballarat&#39;,&#39;Northern&#39;,&#39;Territory&#39;,</span>
    <span class="c1">#                 &#39;England&#39;,&#39;Watters&#39;,&#39;Macquarie&#39;,&#39;Artspace&#39;,&#39;St&#39;,&quot;&#39;s&quot;,&#39;&amp;&#39;,&#39;Potter&#39;,&#39;Kings&#39;,&#39;Ian&#39;,&#39;Cross&#39;,</span>
    <span class="c1">#                 &#39;8&#39;,&#39;Llankelly&#39;,&#39;2011&#39;,&#39;Fremantle&#39;,&#39;Queen&#39;,&#39;Ivan&#39;,&#39;Dougherty&#39;,&#39;Tasmania&#39;,&#39;Central&#39;,</span>
    <span class="c1">#                 &#39;Curtin&#39;,&#39;France&#39;,&#39;Tin&#39;,&#39;Sheds&#39;,&#39;York&#39;,&#39;Monash&#39;,&#39;Paris&#39;,&#39;Heide&#39;,&#39;Place&#39;,&#39;Vic.&#39;,]</span>
    
    <span class="n">words_to_remove</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># add more words to the list of words to remove</span>
    <span class="n">words_to_remove</span> <span class="o">=</span> <span class="n">words_to_remove</span> <span class="o">+</span> <span class="n">more_words</span>

    <span class="n">all_words</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">):</span>
            <span class="n">all_words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span>

    <span class="c1"># find the most common words</span>
    <span class="n">most_common_words</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">all_words</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="n">no_of_words</span><span class="p">)</span>

    <span class="c1"># remove the words from the list of most frequent words</span>
    <span class="n">most_common_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">most_common_words</span> <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">words_to_remove</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">most_common_words</span>

<span class="k">def</span> <span class="nf">get_linkage_matrix</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># Create linkage matrix and then plot the dendrogram</span>

    <span class="c1"># create the counts of samples under each node</span>
    <span class="n">counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">children_</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">n_samples</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">labels_</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">merge</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">children_</span><span class="p">):</span>
        <span class="n">current_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">child_idx</span> <span class="ow">in</span> <span class="n">merge</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">child_idx</span> <span class="o">&lt;</span> <span class="n">n_samples</span><span class="p">:</span>
                <span class="n">current_count</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># leaf node</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">current_count</span> <span class="o">+=</span> <span class="n">counts</span><span class="p">[</span><span class="n">child_idx</span> <span class="o">-</span> <span class="n">n_samples</span><span class="p">]</span>
        <span class="n">counts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_count</span>

    <span class="n">linkage_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">(</span>
        <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">children_</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">distances_</span><span class="p">,</span> <span class="n">counts</span><span class="p">]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">linkage_matrix</span>

<span class="c1"># setting distance_threshold=0 ensures we compute the full tree.</span>
<span class="n">model_tfidf</span> <span class="o">=</span> <span class="n">AgglomerativeClustering</span><span class="p">(</span><span class="n">distance_threshold</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_clusters</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">model_tfidf</span> <span class="o">=</span> <span class="n">model_tfidf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from textwrap import wrap</span>

<span class="c1"># cut = 7</span>
<span class="c1"># l_matrix = get_linkage_matrix(model_tfidf)</span>
<span class="c1"># df[&#39;cluster&#39;] = fcluster(l_matrix, cut, criterion=&#39;maxclust&#39;)</span>
<span class="c1"># dendrogram(l_matrix, orientation=&#39;top&#39;, truncate_mode=&quot;lastp&quot;, p=cut, show_leaf_counts=True)</span>

<span class="c1"># # if a word is a duplicate then remove from all_words</span>
<span class="c1"># def find_duplicates(all_words, occurences=1):</span>
<span class="c1">#     duplicates = []</span>
<span class="c1">#     non_duplicates = []</span>

<span class="c1">#     for i in all_words:</span>
<span class="c1">#         if i in duplicates: continue</span>
<span class="c1">#         else:</span>
<span class="c1">#             if all_words.count(i) &gt; occurences: duplicates.append(i)</span>
<span class="c1">#             else: non_duplicates.append(i)</span>
<span class="c1">#     return duplicates</span>

<span class="c1"># all_words = []</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     [all_words.append(i[0]) for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;clean_text&#39;]))]</span>
    
<span class="c1"># all_words_to_remove = find_duplicates(all_words, occurences=2)</span>
<span class="c1"># all_words_to_remove.extend([&#39;j&#39;,&#39;th&#39;,&#39;nd&#39;,&#39;exhibitionexhibited&#39;])</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     annot = &quot;\n&quot;.join(i[0] for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;clean_text&#39;],</span>
<span class="c1">#                                                                        more_words=all_words_to_remove)) if (idx &lt; 5))</span>
    
<span class="c1">#     plt.annotate(annot, xy=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xytext=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xycoords=&#39;axes fraction&#39;, fontsize=9)</span>
    
<span class="c1">#     annot2 = cluster_docs.sort_values(&#39;cat_count&#39;, ascending=False)[&#39;category&#39;].values[0:3]</span>
<span class="c1">#     annot2 = &#39;\n\n&#39;.join([&#39;\n&#39;.join(wrap(line, 18)) for line in [i.split(&#39;,&#39;)[0] for i in annot2]])</span>
<span class="c1">#     # annot2 = &#39;\n&#39;.join(wrap(annot2, 18)) # breaks strings into new lines</span>

<span class="c1">#     plt.annotate(annot2, xy=(i/df[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#                 xytext=(i/df[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#                 xycoords=&#39;axes fraction&#39;, fontsize=9)</span>

<span class="c1"># plt.title(&quot;Hierarchical Clustering Dendrogram - TF-IDF&quot;)</span>

<span class="c1"># # make figure bigger</span>
<span class="c1"># fig = plt.gcf()</span>
<span class="c1"># fig.set_size_inches(14, 10)</span>

<span class="c1"># plt.show()</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;images/daao_tlc/output1.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_57_0.png" src="_images/DAAO_TLC_57_0.png" />
</div>
</div>
<p>We provide the same visual however show the most frequent terms used within the place names as opposed to the event descriptions.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cut = 7</span>
<span class="c1"># l_matrix = get_linkage_matrix(model_tfidf)</span>
<span class="c1"># df[&#39;cluster&#39;] = fcluster(l_matrix, cut, criterion=&#39;maxclust&#39;)</span>
<span class="c1"># dendrogram(l_matrix, orientation=&#39;top&#39;, truncate_mode=&quot;lastp&quot;, p=cut, show_leaf_counts=True)</span>

<span class="c1"># all_words = []</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     [all_words.append(i[0]) for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;]))]</span>
    
<span class="c1"># all_words_to_remove = find_duplicates(all_words, occurences=3)</span>

<span class="c1"># all_words_to_remove.extend([&#39;,&#39;,&#39;NSW&#39;,&#39;Sydney&#39;,&#39;Melbourne&#39;,&#39;Adelaide&#39;,&#39;South&#39;,&#39;SA&#39;,&#39;Brisbane&#39;,&#39;VIC&#39;,</span>
<span class="c1">#                    &#39;.&#39;, &#39;New&#39;, &#39;Australia&#39;, &#39;QLD&#39;, &#39;Vic&#39;, &#39;Wales&#39;, &#39;WA&#39;, &#39;Canberra&#39;, &#39;and&#39;,</span>
<span class="c1">#                    &#39;Perth&#39;, &#39;ACT&#39;, &#39;of&#39;, &#39;Qld&#39;, &#39;Victoria&#39;,&#39;Wollongong&#39;,&#39;TAS&#39;,&#39;Queensland&#39;,&#39;Newcastle&#39;,</span>
<span class="c1">#                    &#39;Street&#39;,&#39;Hobart&#39;,&#39;the&#39;,&#39;The&#39;,&#39;Launceston&#39;,&#39;Orange&#39;,&#39;UK&#39;,&#39;NT&#39;,&#39;London&#39;,&#39;USA&#39;,</span>
<span class="c1">#                    &#39;Paddington&#39;,&#39;Darwin&#39;,&#39;for&#39;,&#39;Western&#39;,&#39;Warrnambool&#39;,&#39;Ballarat&#39;,&#39;Northern&#39;,&#39;Territory&#39;,</span>
<span class="c1">#                    &#39;England&#39;,&#39;Watters&#39;,&#39;Macquarie&#39;,&#39;Artspace&#39;,&#39;St&#39;,&quot;&#39;s&quot;,&#39;&amp;&#39;,&#39;Potter&#39;,&#39;Kings&#39;,&#39;Ian&#39;,&#39;Cross&#39;,</span>
<span class="c1">#                    &#39;8&#39;,&#39;Llankelly&#39;,&#39;2011&#39;,&#39;Fremantle&#39;,&#39;Queen&#39;,&#39;Ivan&#39;,&#39;Dougherty&#39;,&#39;Tasmania&#39;,&#39;Central&#39;,</span>
<span class="c1">#                    &#39;Curtin&#39;,&#39;France&#39;,&#39;Tin&#39;,&#39;Sheds&#39;,&#39;York&#39;,&#39;Monash&#39;,&#39;Paris&#39;,&#39;Heide&#39;])</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     annot = &quot;\n&quot;.join(i[0] for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;],</span>
<span class="c1">#                                                                        more_words=all_words_to_remove)) if (idx &lt; 5))</span>
    
<span class="c1">#     plt.annotate(annot, xy=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xytext=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xycoords=&#39;axes fraction&#39;, fontsize=9)</span>

<span class="c1"># plt.title(&quot;Hierarchical Clustering Dendrogram - TF-IDF&quot;)</span>

<span class="c1"># # make figure bigger</span>
<span class="c1"># fig = plt.gcf()</span>
<span class="c1"># fig.set_size_inches(14, 10)</span>

<span class="c1"># plt.show()</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;images/daao_tlc/output2.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_59_0.png" src="_images/DAAO_TLC_59_0.png" />
</div>
</div>
</div>
<div class="section" id="hierarchical-clustering-bert">
<h3>Hierarchical clustering (BERT)<a class="headerlink" href="#hierarchical-clustering-bert" title="Permalink to this headline">¶</a></h3>
<p>We repeat the methodology but now change the embedding method to BERT. We expect using BERT, a much more complex model, to better represent each venue. We find that the clusters are more widely populated, and output a different outcome.</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ### load bert model</span>

<span class="c1"># # !pip install transformers</span>
<span class="c1"># from transformers import BertTokenizer, BertModel</span>
<span class="c1"># from transformers import pipeline</span>
<span class="c1"># tokenizer = BertTokenizer.from_pretrained(&#39;bert-base-uncased&#39;)</span>
<span class="c1"># model = BertModel.from_pretrained(&quot;bert-base-uncased&quot;)</span>
<span class="c1"># # text = &quot;Replace me by any text you&#39;d like.&quot;</span>
<span class="c1"># # encoded_input = tokenizer(text, return_tensors=&#39;pt&#39;)</span>
<span class="c1"># # output = model(**encoded_input)</span>
<span class="c1"># # pd.DataFrame(output[&#39;pooler_output&#39;].detach().numpy())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Some weights of the model checkpoint at bert-base-uncased were not used when initializing BertModel: [&#39;cls.predictions.decoder.weight&#39;, &#39;cls.seq_relationship.bias&#39;, &#39;cls.seq_relationship.weight&#39;, &#39;cls.predictions.transform.dense.bias&#39;, &#39;cls.predictions.transform.LayerNorm.bias&#39;, &#39;cls.predictions.transform.dense.weight&#39;, &#39;cls.predictions.transform.LayerNorm.weight&#39;, &#39;cls.predictions.bias&#39;]
- This IS expected if you are initializing BertModel from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing BertModel from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ### encode text using bert (takes 4mins to run)</span>
<span class="c1"># import random</span>

<span class="c1"># # encode the text using bert</span>
<span class="c1"># def bert_encode(x):</span>
<span class="c1">#   encoded_input = tokenizer(x, return_tensors=&#39;pt&#39;)</span>
<span class="c1">#   output = model(**encoded_input)</span>
<span class="c1">#   return pd.DataFrame(output[&#39;pooler_output&#39;].detach().numpy()).T</span>

<span class="c1"># # randomly sample 512 tokens from each row in df[&#39;clean_text&#39;]</span>
<span class="c1"># # some strings are smalle than 512</span>
<span class="c1"># df[&#39;clean_text_sampled&#39;] = df[&#39;clean_text&#39;].apply(lambda x: &#39; &#39;.join(random.sample(x.split(&#39; &#39;), 360)) if len(x.split(&#39; &#39;)) &gt;= 360 else x)</span>
<span class="c1"># X_bert = df[&#39;clean_text_sampled&#39;].apply(lambda x: pd.Series(bert_encode([str(x)])[0]))</span>

<span class="c1"># # setting distance_threshold=0 ensures we compute the full tree.</span>
<span class="c1"># model_bert = AgglomerativeClustering(distance_threshold=0, n_clusters=None)</span>
<span class="c1"># model_bert = model_bert.fit(np.array(X_bert))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cut = 7</span>
<span class="c1"># l_matrix = get_linkage_matrix(model_bert)</span>
<span class="c1"># df[&#39;cluster&#39;] = fcluster(l_matrix, cut, criterion=&#39;maxclust&#39;)</span>
<span class="c1"># dendrogram(l_matrix, orientation=&#39;top&#39;, truncate_mode=&quot;lastp&quot;, p=cut, show_leaf_counts=True)</span>

<span class="c1"># all_words = []</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     [all_words.append(i[0]) for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;clean_text&#39;]))]</span>
    
<span class="c1"># all_words_to_remove = find_duplicates(all_words, occurences=2)</span>
<span class="c1"># all_words_to_remove.extend([&#39;j&#39;,&#39;th&#39;,&#39;nd&#39;,&#39;exhibitionexhibited&#39;,&#39;http&#39;,&#39;www&#39;,&#39;isbn&#39;])</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     annot = &quot;\n&quot;.join(i[0] for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;clean_text&#39;],</span>
<span class="c1">#                                                                        more_words=all_words_to_remove)) if (idx &lt; 5))</span>
    
<span class="c1">#     plt.annotate(annot, xy=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xytext=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xycoords=&#39;axes fraction&#39;, fontsize=9)</span>
    
<span class="c1">#     annot2 = cluster_docs.sort_values(&#39;cat_count&#39;, ascending=False)[&#39;category&#39;].values[0:3]</span>
<span class="c1">#     annot2 = &#39;\n\n&#39;.join([&#39;\n&#39;.join(wrap(line, 18)) for line in [i.split(&#39;,&#39;)[0] for i in annot2]])</span>
<span class="c1">#     # annot2 = &#39;\n&#39;.join(wrap(annot2, 18)) # breaks strings into new lines</span>

<span class="c1">#     plt.annotate(annot2, xy=(i/df[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#                 xytext=(i/df[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#                 xycoords=&#39;axes fraction&#39;, fontsize=9)</span>

<span class="c1"># plt.title(&quot;Hierarchical Clustering Dendrogram - BERT&quot;)</span>

<span class="c1"># # make figure bigger</span>
<span class="c1"># fig = plt.gcf()</span>
<span class="c1"># fig.set_size_inches(14, 10)</span>

<span class="c1"># plt.show()</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;images/daao_tlc/output3.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_63_0.png" src="_images/DAAO_TLC_63_0.png" />
</div>
</div>
<p>We provide the same visual however show the most frequent terms used within the place names as opposed to the event descriptions.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cut = 7</span>
<span class="c1"># l_matrix = get_linkage_matrix(model_bert)</span>
<span class="c1"># df[&#39;cluster&#39;] = fcluster(l_matrix, cut, criterion=&#39;maxclust&#39;)</span>
<span class="c1"># dendrogram(l_matrix, orientation=&#39;top&#39;, truncate_mode=&quot;lastp&quot;, p=cut, show_leaf_counts=True)</span>

<span class="c1"># all_words = []</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     [all_words.append(i[0]) for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;], no_of_words=25))]</span>
    
<span class="c1"># all_words_to_remove = find_duplicates(all_words, occurences=4)</span>
<span class="c1"># all_words_to_remove.extend([&#39;,&#39;,&#39;NSW&#39;,&#39;Sydney&#39;,&#39;Melbourne&#39;,&#39;Adelaide&#39;,&#39;South&#39;,&#39;SA&#39;,&#39;Brisbane&#39;,&#39;VIC&#39;,</span>
<span class="c1">#                    &#39;.&#39;, &#39;New&#39;, &#39;Australia&#39;, &#39;QLD&#39;, &#39;Vic&#39;,&#39;and&#39;,&#39;WA&#39;,&#39;Victoria&#39;,&#39;ACT&#39;,&#39;Qld&#39;,</span>
<span class="c1">#                    &#39;of&#39;,&#39;Wollongong&#39;,&#39;TAS&#39;,&#39;Queensland&#39;,&#39;Newcastle&#39;,</span>
<span class="c1">#                    &#39;Street&#39;,&#39;Hobart&#39;,&#39;the&#39;,&#39;The&#39;,&#39;Launceston&#39;,&#39;Orange&#39;,&#39;NT&#39;,</span>
<span class="c1">#                    &#39;Paddington&#39;,&#39;Darwin&#39;,&#39;for&#39;,&#39;Western&#39;,&#39;Warrnambool&#39;,&#39;Ballarat&#39;,&#39;Northern&#39;,&#39;Territory&#39;,</span>
<span class="c1">#                    &#39;England&#39;,&#39;Watters&#39;,&#39;Macquarie&#39;,&#39;Artspace&#39;,&#39;St&#39;,&quot;&#39;s&quot;,&#39;&amp;&#39;,&#39;Potter&#39;,&#39;Kings&#39;,&#39;Ian&#39;,&#39;Cross&#39;,</span>
<span class="c1">#                    &#39;8&#39;,&#39;Llankelly&#39;,&#39;2011&#39;,&#39;Fremantle&#39;,&#39;Queen&#39;,&#39;Ivan&#39;,&#39;Dougherty&#39;,&#39;Tasmania&#39;,&#39;Central&#39;,</span>
<span class="c1">#                    &#39;Curtin&#39;,&#39;France&#39;,&#39;Tin&#39;,&#39;Sheds&#39;,&#39;York&#39;,&#39;Monash&#39;,&#39;Heide&#39;,&#39;&#39;])</span>

<span class="c1"># for i in df[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df[df[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     annot = &quot;\n&quot;.join(i[0] for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;],</span>
<span class="c1">#                                                                        more_words=all_words_to_remove)) if (idx &lt; 5))</span>
    
<span class="c1">#     plt.annotate(annot, xy=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xytext=(i/df[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xycoords=&#39;axes fraction&#39;, fontsize=9)</span>

<span class="c1"># plt.title(&quot;Hierarchical Clustering Dendrogram - BERT&quot;)</span>

<span class="c1"># # make figure bigger</span>
<span class="c1"># fig = plt.gcf()</span>
<span class="c1"># fig.set_size_inches(14, 10)</span>

<span class="c1"># plt.show()</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;images/daao_tlc/output4.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_65_0.png" src="_images/DAAO_TLC_65_0.png" />
</div>
</div>
</div>
<div class="section" id="hierarchical-clustering-bert-after-omitting-erroneous-geocodes-that-occur-frequently">
<h3>Hierarchical clustering (BERT) after omitting erroneous geocodes that occur frequently<a class="headerlink" href="#hierarchical-clustering-bert-after-omitting-erroneous-geocodes-that-occur-frequently" title="Permalink to this headline">¶</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># # retrieve rows from most_freq_geocodes from a list of indices</span>
<span class="c1"># remove_these = most_freq_geocodes.head(20).iloc[~most_freq_geocodes.head(20).index.isin([4,5,6,8,9,13,14,15,16,18,19])]</span>

<span class="c1"># # remove 5656 rows from df_daoo_relevant_events with same lat and long data from remove_these </span>
<span class="c1"># df_daoo_relevant_events[&#39;erroneous&#39;] = np.where(df_daoo_relevant_events[&#39;latitude&#39;].isin(remove_these[&#39;latitude&#39;]) &amp;\</span>
<span class="c1">#                                                 df_daoo_relevant_events[&#39;longitude&#39;].isin(remove_these[&#39;longitude&#39;]), True, False)</span>

<span class="c1"># ### pre-process for NLP</span>
<span class="c1"># # Load the documents and their corresponding categorical variables into a Pandas dataframe</span>
<span class="c1"># df2 = pd.DataFrame({&#39;text&#39;: df_daoo_relevant_events[df_daoo_relevant_events[&#39;erroneous&#39;] == 0][&#39;slug2&#39;], </span>
<span class="c1">#                    &#39;category&#39;: df_daoo_relevant_events[df_daoo_relevant_events[&#39;erroneous&#39;] == 0][&#39;place_name&#39;]})</span>

<span class="c1"># # summarise text for each unique place name</span>
<span class="c1"># df2[&#39;text&#39;] = df2.groupby(&#39;category&#39;)[&#39;text&#39;].transform(lambda x: &#39; &#39;.join(x))</span>

<span class="c1"># #add new column with count for each category</span>
<span class="c1"># df2[&#39;cat_count&#39;] = df2.groupby(&#39;category&#39;)[&#39;category&#39;].transform(&#39;count&#39;)</span>
<span class="c1"># df2.drop_duplicates(inplace=True)</span>

<span class="c1"># # Clean the text</span>
<span class="c1"># stop_words = set(stopwords.words(&#39;english&#39;))</span>
<span class="c1"># df2[&#39;clean_text&#39;] = df2[&#39;text&#39;].apply(clean_text)</span>

<span class="c1"># # randomly sample 512 tokens from each row in df[&#39;clean_text&#39;]</span>
<span class="c1"># # some strings are smalle than 512</span>
<span class="c1"># df2[&#39;clean_text_sampled&#39;] = df2[&#39;clean_text&#39;].apply(lambda x: &#39; &#39;.join(random.sample(x.split(&#39; &#39;), 320)) if len(x.split(&#39; &#39;)) &gt;= 320 else x)</span>
<span class="c1"># X_bert2 = df2[&#39;clean_text_sampled&#39;].apply(lambda x: pd.Series(bert_encode([str(x)])[0]))</span>

<span class="c1"># # setting distance_threshold=0 ensures we compute the full tree.</span>
<span class="c1"># model_bert2 = AgglomerativeClustering(distance_threshold=0, n_clusters=None)</span>
<span class="c1"># model_bert2 = model_bert2.fit(np.array(X_bert2))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cut = 7</span>
<span class="c1"># l_matrix = get_linkage_matrix(model_bert2)</span>
<span class="c1"># df2[&#39;cluster&#39;] = fcluster(l_matrix, cut, criterion=&#39;maxclust&#39;)</span>
<span class="c1"># dendrogram(l_matrix, orientation=&#39;top&#39;, truncate_mode=&quot;lastp&quot;, p=cut, show_leaf_counts=True)</span>

<span class="c1"># all_words = []</span>

<span class="c1"># for i in df2[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df2[df2[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     [all_words.append(i[0]) for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;clean_text&#39;]))]</span>
    
<span class="c1"># all_words_to_remove = find_duplicates(all_words, occurences=2)</span>
<span class="c1"># all_words_to_remove.extend([&#39;j&#39;,&#39;p&#39;,&#39;r&#39;,&#39;h&#39;,&#39;c&#39;,&#39;k&#39;,&#39;th&#39;,&#39;nd&#39;,&#39;exhibitionexhibited&#39;,&#39;isbn&#39;,&#39;http&#39;,&#39;www&#39;])</span>

<span class="c1"># for i in df2[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df2[df2[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     annot = &quot;\n&quot;.join(i[0] for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;clean_text&#39;],</span>
<span class="c1">#                                                                        more_words=all_words_to_remove)) if (idx &lt; 5))</span>
    
<span class="c1">#     plt.annotate(annot, xy=(i/df2[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xytext=(i/df2[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xycoords=&#39;axes fraction&#39;, fontsize=9)</span>
    
<span class="c1">#     annot2 = cluster_docs.sort_values(&#39;cat_count&#39;, ascending=False)[&#39;category&#39;].values[0:3]</span>
<span class="c1">#     annot2 = &#39;\n\n&#39;.join([&#39;\n&#39;.join(wrap(line, 18)) for line in [i.split(&#39;,&#39;)[0] for i in annot2]])</span>
<span class="c1">#     # annot2 = &#39;\n&#39;.join(wrap(annot2, 18)) # breaks strings into new lines</span>

<span class="c1">#     plt.annotate(annot2, xy=(i/df2[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#                 xytext=(i/df2[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#                 xycoords=&#39;axes fraction&#39;, fontsize=9)</span>

<span class="c1"># plt.title(&quot;Hierarchical Clustering Dendrogram - BERT (after removing frequent errors)&quot;)</span>

<span class="c1"># # make figure bigger</span>
<span class="c1"># fig = plt.gcf()</span>
<span class="c1"># fig.set_size_inches(14, 10)</span>

<span class="c1"># plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_68_0.png" src="_images/DAAO_TLC_68_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cut = 7</span>
<span class="c1"># l_matrix = get_linkage_matrix(model_bert2)</span>
<span class="c1"># df2[&#39;cluster&#39;] = fcluster(l_matrix, cut, criterion=&#39;maxclust&#39;)</span>
<span class="c1"># dendrogram(l_matrix, orientation=&#39;top&#39;, truncate_mode=&quot;lastp&quot;, p=cut, show_leaf_counts=True)</span>

<span class="c1"># all_words = []</span>

<span class="c1"># for i in df2[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df2[df2[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     [all_words.append(i[0]) for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;], no_of_words=30))]</span>
    
<span class="c1"># all_words_to_remove = find_duplicates(all_words, occurences=5)</span>
<span class="c1"># all_words_to_remove.extend([&#39;,&#39;,&#39;NSW&#39;,&#39;Sydney&#39;,&#39;Melbourne&#39;,&#39;Adelaide&#39;,&#39;South&#39;,&#39;SA&#39;,&#39;Brisbane&#39;,&#39;VIC&#39;,</span>
<span class="c1">#                    &#39;.&#39;, &#39;New&#39;, &#39;QLD&#39;, &#39;Vic&#39;,&#39;and&#39;,&#39;WA&#39;,&#39;Victoria&#39;,&#39;ACT&#39;,&#39;Qld&#39;,</span>
<span class="c1">#                    &#39;of&#39;,&#39;Wollongong&#39;,&#39;TAS&#39;,&#39;Queensland&#39;,&#39;Newcastle&#39;,&#39;Australia&#39;,</span>
<span class="c1">#                    &#39;Street&#39;,&#39;Hobart&#39;,&#39;the&#39;,&#39;The&#39;,&#39;Launceston&#39;,&#39;Orange&#39;,&#39;NT&#39;,</span>
<span class="c1">#                    &#39;Paddington&#39;,&#39;Darwin&#39;,&#39;for&#39;,&#39;Western&#39;,&#39;Warrnambool&#39;,&#39;Ballarat&#39;,&#39;Northern&#39;,&#39;Territory&#39;,</span>
<span class="c1">#                    &#39;England&#39;,&#39;Watters&#39;,&#39;Macquarie&#39;,&#39;Artspace&#39;,&#39;St&#39;,&quot;&#39;s&quot;,&#39;&amp;&#39;,&#39;Potter&#39;,&#39;Kings&#39;,&#39;Ian&#39;,&#39;Cross&#39;,</span>
<span class="c1">#                    &#39;8&#39;,&#39;Llankelly&#39;,&#39;2011&#39;,&#39;Fremantle&#39;,&#39;Queen&#39;,&#39;Ivan&#39;,&#39;Dougherty&#39;,&#39;Tasmania&#39;,&#39;Central&#39;,</span>
<span class="c1">#                    &#39;Curtin&#39;,&#39;France&#39;,&#39;Tin&#39;,&#39;Sheds&#39;,&#39;York&#39;,&#39;Monash&#39;,&#39;Heide&#39;,&#39;&#39;])</span>

<span class="c1"># for i in df2[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df2[df2[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     annot = &quot;\n&quot;.join(i[0] for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;],</span>
<span class="c1">#                                                                        more_words=all_words_to_remove)) if (idx &lt; 20))</span>
    
<span class="c1">#     plt.annotate(annot, xy=(i/df2[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xytext=(i/df2[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xycoords=&#39;axes fraction&#39;, fontsize=9)</span>

<span class="c1"># plt.title(&quot;Hierarchical Clustering Dendrogram - BERT (after removing frequent errors)&quot;)</span>

<span class="c1"># # make figure bigger</span>
<span class="c1"># fig = plt.gcf()</span>
<span class="c1"># fig.set_size_inches(14, 10)</span>

<span class="c1"># plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_69_0.png" src="_images/DAAO_TLC_69_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="organisations">
<h2>Organisations<a class="headerlink" href="#organisations" title="Permalink to this headline">¶</a></h2>
<p>Similar to venues, we first produce a word cloud for common terms used in organisation names. We find that the most frequent terms are “Society”, “Art”, “Gallery”, “Royal”, and “Arts”.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bios = pd.read_csv(&#39;data/daao_biography_level_202202211719.csv&#39;)</span>
<span class="c1"># bios = bios[[&#39;_id&#39;,&#39;primary_name.family_name&#39;,&#39;primary_name.given_names&#39;]]</span>
<span class="c1"># bios[bios[&#39;_id&#39;].str.contains(&#39;4e1e1424b846f2dae7001dc0&#39;)]</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/daao_persongroup_level.json&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span> <span class="n">daoo_org_data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>

<span class="c1"># create a list of all the place names</span>
<span class="n">all_place_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_org_data</span><span class="p">)[</span><span class="s1">&#39;primary_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="c1"># create a list of all the words in the place names</span>
<span class="n">all_words</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">place_name</span> <span class="ow">in</span> <span class="n">all_place_names</span><span class="p">:</span>
    <span class="n">all_words</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">place_name</span><span class="p">))</span>

<span class="c1"># find top 100 most frequent words</span>
<span class="n">most_freq_words</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">all_words</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>

<span class="c1"># remove a list of all words that are not relevant</span>
<span class="n">words_to_remove</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="s1">&#39;and&#39;</span><span class="p">,</span><span class="s1">&#39;of&#39;</span><span class="p">,</span><span class="s1">&#39;the&#39;</span><span class="p">,</span><span class="s1">&#39;The&#39;</span><span class="p">,</span><span class="s1">&#39;for&#39;</span><span class="p">,</span><span class="s2">&quot;&#39;s&quot;</span><span class="p">,</span><span class="s1">&#39;&amp;&#39;</span><span class="p">,</span><span class="s1">&#39;(&#39;</span><span class="p">,</span><span class="s1">&#39;)&#39;</span><span class="p">,</span><span class="s1">&#39;J.&#39;</span><span class="p">,</span><span class="s1">&#39;Melbourne&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;UK&#39;</span><span class="p">,</span><span class="s1">&#39;VIC&#39;</span><span class="p">,</span><span class="s1">&#39;London&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;Jane&#39;</span><span class="p">,</span><span class="s1">&#39;Lapham&#39;</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="s1">&#39;Adelaide&#39;</span><span class="p">,</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span><span class="s1">&#39;Sydney&#39;</span><span class="p">,</span><span class="s1">&#39;NSW&#39;</span><span class="p">,</span><span class="s1">&#39;New&#39;</span><span class="p">,</span><span class="s1">&#39;South&#39;</span><span class="p">,</span><span class="s1">&#39;Wales&#39;</span><span class="p">]</span>

<span class="c1"># remove the words from the list of most frequent words</span>
<span class="n">most_freq_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">most_freq_words</span> <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">words_to_remove</span><span class="p">]</span>

<span class="n">most_freq_words_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">most_freq_words</span><span class="p">)</span>

<span class="c1"># # add value of two keys</span>
<span class="c1"># most_freq_words_dict[&#39;Gallery&#39;] = most_freq_words_dict[&#39;Gallery&#39;] + most_freq_words_dict[&#39;Galleries&#39;]</span>
<span class="c1"># most_freq_words_dict[&#39;Museum&#39;] = most_freq_words_dict[&#39;Museum&#39;] + most_freq_words_dict[&#39;Museums&#39;]</span>

<span class="c1"># # remove key &#39;Gallery&#39;</span>
<span class="c1"># most_freq_words_dict.pop(&#39;Galleries&#39;)</span>
<span class="c1"># most_freq_words_dict.pop(&#39;Museums&#39;)</span>

<span class="c1"># create a wordcloud with the most frequent words</span>
<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>

<span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
                <span class="n">background_color</span> <span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span>
                <span class="n">min_font_size</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">most_freq_words_dict</span><span class="p">)</span>

<span class="c1"># plot the WordCloud image</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">facecolor</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">pad</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_71_0.png" src="_images/DAAO_TLC_71_0.png" />
</div>
</div>
<p>As shown above, the use of dendrograms can be an interesting exercise to explore the data. The initial idea was to repeat the same approach with organisations to assess any latent patterns through this taxonomic approrach. However, we find that the data is not as rich as the venue data and that there are many organisations with no biographies, no summaries, and no relations to people records, exhibition records, etc.  Nevertheless we provide one dendrogram using organisation biographies.</p>
<p>Below is a list of the proportion of missing data for each field across DAAO organisations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># find the proportion of null values in each column</span>
<span class="nb">print</span><span class="p">((</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_org_data</span><span class="p">)</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_org_data</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>biography              0.869957
_cls                   0.000000
editing_complete       0.922318
is_deleted             0.000000
is_featured            0.000000
is_locked              0.000000
is_primary             0.000000
is_shadow              0.000000
primary_name           0.000858
periods_active         0.959227
record_status          0.000000
residences             0.959442
roles                  0.000000
sources                0.913519
slug                   0.000000
summary                0.917167
related_stub_people    0.998927
_id.$oid               0.000000
date_created.$date     0.024678
date_modified.$date    0.069528
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">((</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_org_data</span><span class="p">)</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">daoo_org_data</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">20</span><span class="p">:])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>references                    0.896567
tags                          0.962017
type                          0.974464
types                         0.965665
related_events                0.972318
related_collections           0.985837
related_works                 0.922318
related_recognitions          0.996996
related_stub_person_groups    0.998927
copyright_agents              0.999571
urls                          0.896137
alternative_names             0.967811
locked_biographies            0.999356
other_occupations             0.996996
see_alsos                     0.982833
nla_id                        0.999356
source_database_ids           0.985837
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># from bs4 import BeautifulSoup</span>

<span class="c1"># orgs = pd.DataFrame(columns=[&#39;name&#39;,&#39;summary&#39;,&#39;bio&#39;])</span>

<span class="c1"># # pd.json_normalize(daoo_org_data)[&#39;biography&#39;].isnull().sum()/pd.json_normalize(daoo_org_data).shape[0] # 87% of rows have no biography</span>

<span class="c1"># for i,row in pd.json_normalize(daoo_org_data).iterrows():</span>
<span class="c1">#     try:</span>
<span class="c1">#         try: row[&#39;biography&#39;][0][&#39;text&#39;]</span>
<span class="c1">#         except: continue</span>

<span class="c1">#         # try: period_start = row[&#39;periods_active&#39;][0][&#39;start&#39;][&#39;_date&#39;]</span>
<span class="c1">#         # except: period_start = None</span>

<span class="c1">#         # try: period_end = row[&#39;periods_active&#39;][0][&#39;end&#39;][&#39;_date&#39;]</span>
<span class="c1">#         # except: period_end = None</span>

<span class="c1">#         # use pandas.concat to append new row to dataframe</span>
<span class="c1">#         orgs = pd.concat([orgs, pd.DataFrame({&#39;name&#39;: [row[&#39;primary_name&#39;]],</span>
<span class="c1">#                                                 &#39;summary&#39;: [row[&#39;summary&#39;]],</span>
<span class="c1">#                                                 &#39;bio&#39;: [row[&#39;biography&#39;][0][&#39;text&#39;]],</span>
<span class="c1">#                                                 # &#39;period_start&#39;: [period_start],</span>
<span class="c1">#                                                 # &#39;period_end&#39;: [period_end]</span>
<span class="c1">#                                                 })], ignore_index=True)</span>
        
<span class="c1">#     except:</span>
<span class="c1">#         print(i)</span>
<span class="c1">#         break</span>

<span class="c1"># # remove empty summary</span>
<span class="c1"># orgs[&#39;summary&#39;].fillna(&#39;&#39;, inplace=True)</span>

<span class="c1"># # remove rows with stub text</span>
<span class="c1"># orgs = orgs[~orgs[&#39;bio&#39;].isin(orgs[&#39;bio&#39;].value_counts().head(5).index.to_list())]</span>

<span class="c1"># # combine summary and bio</span>
<span class="c1"># orgs[&#39;bio&#39;] = orgs[&#39;summary&#39;] + orgs[&#39;bio&#39;].apply(lambda x: BeautifulSoup(x, &#39;lxml&#39;).get_text())</span>

<span class="c1"># orgs = orgs[[&#39;name&#39;,&#39;bio&#39;]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ### encode text using bert (takes 4mins to run)</span>

<span class="c1"># ### pre-process for NLP</span>
<span class="c1"># # Load the documents and their corresponding categorical variables into a Pandas dataframe</span>
<span class="c1"># df_org = pd.DataFrame({&#39;text&#39;: orgs[&#39;bio&#39;], &#39;category&#39;: orgs[&#39;name&#39;]})</span>

<span class="c1"># #add new column with count for each category</span>
<span class="c1"># df_org[&#39;cat_count&#39;] = df_org.groupby(&#39;category&#39;)[&#39;category&#39;].transform(&#39;count&#39;)</span>
<span class="c1"># df_org.drop_duplicates(inplace=True)</span>

<span class="c1"># # Clean the text</span>
<span class="c1"># stop_words = set(stopwords.words(&#39;english&#39;))</span>

<span class="c1"># def clean_text(text):</span>
<span class="c1">#     text = re.sub(&#39;[^a-zA-Z]&#39;, &#39; &#39;, text)</span>
<span class="c1">#     text = text.replace(&#39;,&#39;, &#39;&#39;)</span>
<span class="c1">#     text = text.lower().split()</span>
<span class="c1">#     text = [word for word in text if word not in stop_words]</span>
<span class="c1">#     text = &#39; &#39;.join(text)</span>
<span class="c1">#     return text</span>

<span class="c1"># df_org[&#39;clean_text&#39;] = df_org[&#39;text&#39;].apply(clean_text)</span>

<span class="c1"># # randomly sample 512 tokens from each row in df[&#39;clean_text&#39;]</span>
<span class="c1"># # some strings are smalle than 512</span>
<span class="c1"># df_org[&#39;clean_text_sampled&#39;] = df_org[&#39;clean_text&#39;].apply(lambda x: &#39; &#39;.join(random.sample(x.split(&#39; &#39;), 350)) if len(x.split(&#39; &#39;)) &gt;= 350 else x)</span>
<span class="c1"># X_bert_org = df_org[&#39;clean_text_sampled&#39;].apply(lambda x: pd.Series(bert_encode([str(x)])[0]))</span>

<span class="c1"># # setting distance_threshold=0 ensures we compute the full tree.</span>
<span class="c1"># model_bert_org = AgglomerativeClustering(distance_threshold=0, n_clusters=None)</span>
<span class="c1"># model_bert_org = model_bert_org.fit(np.array(X_bert_org))</span>
</pre></div>
</div>
</div>
</div>
<p>Biographical data for each organisation (~130 organisations) is used to create the clusters. From here we show the most common terms used in the organisation name for each cluster.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cut = 5</span>
<span class="c1"># l_matrix = get_linkage_matrix(model_bert_org)</span>
<span class="c1"># df_org[&#39;cluster&#39;] = fcluster(l_matrix, cut, criterion=&#39;maxclust&#39;)</span>
<span class="c1"># dendrogram(l_matrix, orientation=&#39;top&#39;, truncate_mode=&quot;lastp&quot;, p=cut, show_leaf_counts=True)</span>

<span class="c1"># all_words = []</span>

<span class="c1"># for i in df_org[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df_org[df_org[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     [all_words.append(i[0]) for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;], no_of_words=5))]</span>
    
<span class="c1"># all_words_to_remove = find_duplicates(all_words, occurences=4)</span>
<span class="c1"># all_words_to_remove.extend([&#39;h&#39;,&#39;co&#39;,&#39;e&#39;,&#39;test&#39;,&#39;Lapham&#39;,&#39;J.&#39;,&#39;Jane&#39;,&#39;&#39;,&#39;and&#39;,&#39;of&#39;,&#39;&amp;&#39;,&#39;The&#39;,&#39;SymbioticA&#39;,&#39;Nevin&#39;,&#39;Smith&#39;])</span>

<span class="c1"># for i in df_org[&#39;cluster&#39;].unique():</span>
<span class="c1">#     cluster_docs = df_org[df_org[&#39;cluster&#39;] == i]</span>
<span class="c1">#     # print(i, get_most_common_word(cluster_docs[&#39;clean_text&#39;]))</span>
<span class="c1">#     annot = &quot;\n&quot;.join(i[0] for idx,i in enumerate(get_most_common_word(cluster_docs[&#39;category&#39;], no_of_words=6,</span>
<span class="c1">#                                                                        more_words=all_words_to_remove)) if (idx &lt; 3))</span>
    
<span class="c1">#     plt.annotate(annot, xy=(i/df_org[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xytext=(i/df_org[&#39;cluster&#39;].nunique()-0.1, 0.05), </span>
<span class="c1">#                  xycoords=&#39;axes fraction&#39;, fontsize=12)</span>
    
<span class="c1">#     # annot2 = cluster_docs.sort_values(&#39;cat_count&#39;, ascending=False)[&#39;category&#39;].values[0:3]</span>
<span class="c1">#     # annot2 = &#39;\n\n&#39;.join([&#39;\n&#39;.join(wrap(line, 18)) for line in [i.split(&#39;,&#39;)[0] for i in annot2]])</span>
<span class="c1">#     # # annot2 = &#39;\n&#39;.join(wrap(annot2, 18)) # breaks strings into new lines</span>

<span class="c1">#     # plt.annotate(annot2, xy=(i/df_org[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#     #             xytext=(i/df_org[&#39;cluster&#39;].nunique()-0.115, -0.24), </span>
<span class="c1">#     #             xycoords=&#39;axes fraction&#39;, fontsize=9)</span>

<span class="c1"># plt.title(&quot;Hierarchical Clustering Dendrogram - BERT, Organisations&quot;)</span>

<span class="c1"># # make figure bigger</span>
<span class="c1"># fig = plt.gcf()</span>
<span class="c1"># fig.set_size_inches(14, 10)</span>

<span class="c1"># plt.show()</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;images/daao_tlc/output5.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/DAAO_TLC_78_0.png" src="_images/DAAO_TLC_78_0.png" />
</div>
</div>
</div>
<div class="section" id="temporal-analysis-of-venues">
<h2>Temporal analysis of venues<a class="headerlink" href="#temporal-analysis-of-venues" title="Permalink to this headline">¶</a></h2>
<p>To further explore frequently used terms in place names, we produce an interactive time series of the number of events per decade by associated terms.</p>
<p>Before the visuals, we provide an ordered list of the decades with the most event activity, and also a list of the top 20 most frequent terms used in place names.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">events_df</span> <span class="o">=</span> <span class="n">df_daoo_relevant_events</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># create a new column with the decade of start year</span>
<span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
<span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;2000&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39;2020&#39;</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
<span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2000    4332
1990    3312
1980    1909
1970     831
2010     527
1960     309
1930     265
1900     241
1920     239
1950     227
1940     201
1910     148
Name: decade, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">most_freq_words_dict2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Gallery&#39;: 6202,
 &#39;Art&#39;: 4286,
 &#39;Centre&#39;: 975,
 &#39;Museum&#39;: 1028,
 &#39;University&#39;: 791,
 &#39;Contemporary&#39;: 732,
 &#39;National&#39;: 609,
 &#39;City&#39;: 456,
 &#39;Regional&#39;: 447,
 &#39;Arts&#39;: 447,
 &#39;Foundation&#39;: 441,
 &#39;Experimental&#39;: 434,
 &#39;Modern&#39;: 346,
 &#39;Institute&#39;: 339,
 &#39;Australian&#39;: 300,
 &#39;Fine&#39;: 273,
 &#39;House&#39;: 169,
 &#39;Space&#39;: 139,
 &#39;Hall&#39;: 110,
 &#39;School&#39;: 105,
 &#39;Region&#39;: 103,
 &#39;College&#39;: 101,
 &#39;Festival&#39;: 96,
 &#39;Royal&#39;: 93,
 &#39;Aboriginal&#39;: 89,
 &#39;Parliament&#39;: 85,
 &#39;Society&#39;: 83}
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words_by_decade</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">most_freq_words_dict2</span><span class="p">:</span>
    <span class="n">words_this_decade</span> <span class="o">=</span> <span class="n">events_df</span><span class="p">[</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">key</span><span class="p">)]</span>\
                        <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;decade&#39;</span><span class="p">)[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">count</span><span class="p">()</span>\
                        <span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>\
                        <span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;decade&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">words_this_decade</span><span class="p">[</span><span class="s1">&#39;term&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
    <span class="n">words_by_decade</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">words_by_decade</span><span class="p">,</span> <span class="n">words_this_decade</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">words_by_decade</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;decade&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;term&#39;</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Count of each term by decade&#39;</span><span class="p">)</span>

<span class="c1"># # make figure size bigger</span>
<span class="c1"># # fig.update_layout(</span>
<span class="c1"># #     autosize=False,</span>
<span class="c1"># #     width=700,</span>
<span class="c1"># #     height=500,</span>
<span class="c1"># # )</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># events_df[&#39;diff&#39;] = events_df[&#39;end_year&#39;] - events_df[&#39;start_year&#39;]</span>
<span class="c1"># # events_df[(events_df[&#39;place_name&#39;].str.contains(&#39;Contemporary&#39;)) &amp; (events_df[&#39;diff&#39;] &gt; 1)]</span>

<span class="c1"># using start_date, end_date, place_name, calculate the difference between start_date of the first event in an venue and end_date of the last event in that venue</span>
<span class="n">places_with_start_end</span> <span class="o">=</span> <span class="p">[]</span>
<span class="p">[</span><span class="n">places_with_start_end</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">p</span><span class="p">,</span> <span class="n">events_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="p">,</span> <span class="s1">&#39;start_year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> 
                              <span class="n">events_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="p">,</span> <span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span>

<span class="n">places_with_start_end</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">places_with_start_end</span><span class="p">)</span>
<span class="n">places_with_start_end</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">,</span> <span class="s1">&#39;start_year&#39;</span><span class="p">,</span> <span class="s1">&#39;end_year&#39;</span><span class="p">]</span>
<span class="n">places_with_start_end</span><span class="p">[</span><span class="s1">&#39;diff&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">places_with_start_end</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">places_with_start_end</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">]</span>
<span class="n">places_with_start_end</span> <span class="o">=</span> <span class="n">places_with_start_end</span><span class="p">[</span><span class="n">places_with_start_end</span><span class="p">[</span><span class="s1">&#39;diff&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">]</span>
<span class="c1"># places_with_start_end.sort_values(&#39;diff&#39;, ascending=False)</span>
</pre></div>
</div>
</div>
</div>
<p>Beyond the above time series, we also provide a series of bar charts, however instead of illustrating event activity within a certain decade, we plot the number of venues active across time. We calculate the start and end of a venue’s “lifespan” by using the earliest and latest event date associated with a venue. We do this by filtering on venues with associated terms in the place name.</p>
<p>Most bar charts follow the same upwards trends shown in the above time series, however some terms that highlight some different trajectories consist of “contemporary”, “society”, “experimental” and “space”.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">decade_placeholder</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">13</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">2020</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span>
<span class="n">decade_placeholder</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">decade_placeholder</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">most_freq_words_dict2</span><span class="p">:</span>
    <span class="c1"># create a wide form of contemporary with each decade as a column and a binary value for whether the venue existed in that decade</span>
    <span class="c1"># use start_year as the start and end_year as the end of the venue</span>
    <span class="n">contemporary</span> <span class="o">=</span> <span class="n">places_with_start_end</span><span class="p">[(</span><span class="n">places_with_start_end</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">term</span><span class="p">))]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;start_year&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">contemporary</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> 
            <span class="n">contemporary_wide</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">contemporary_wide</span><span class="o">.</span>\
        <span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">reset_index</span><span class="p">()</span><span class="o">.</span>\
        <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;place_name&#39;</span><span class="p">})</span><span class="o">.</span>\
        <span class="nb">sum</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">reset_index</span><span class="p">()</span><span class="o">.</span>\
        <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span>
    
    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">contemporary_wide</span><span class="p">,</span> <span class="n">decade_placeholder</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
    <span class="n">contemporary_wide</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">contemporary_wide</span><span class="p">[</span><span class="s1">&#39;count_x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">contemporary_wide</span><span class="p">[</span><span class="s1">&#39;count_y&#39;</span><span class="p">]</span>
    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">contemporary_wide</span><span class="p">[[</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">contemporary_wide</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;decade&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Number of venues that existed in each decade, </span><span class="si">{</span><span class="n">term</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># remove y-axis label</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># # make figure size bigger</span>
    <span class="c1"># fig.update_layout(</span>
    <span class="c1">#     autosize=False,</span>
    <span class="c1">#     width=700,</span>
    <span class="c1">#     height=400,</span>
    <span class="c1"># )</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="section" id="proportions">
<h3>Proportions<a class="headerlink" href="#proportions" title="Permalink to this headline">¶</a></h3>
<p>We repeat the same temporal visuals as above, however this time we plot the proportions to effectively normalise the data with respect to the number of events across decades, and the number of venues that existed across time, repsectively.</p>
<p>Note that the y-axis limits in the bar charts changes for each term.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">words_by_decade_prop</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># find the proportions of each word in each decade</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">most_freq_words_dict2</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
        <span class="n">prop</span> <span class="o">=</span> <span class="n">events_df</span><span class="p">[(</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">j</span><span class="p">)]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span><span class="n">events_df</span><span class="p">[</span><span class="n">events_df</span><span class="p">[</span><span class="s1">&#39;decade&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">words_by_decade_prop</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">prop</span><span class="p">])</span>
    
<span class="n">words_by_decade_prop</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">words_by_decade_prop</span><span class="p">)</span>
<span class="n">words_by_decade_prop</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">,</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span><span class="s1">&#39;proportion&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot proportion of each term by decade</span>
<span class="c1"># make it interactive</span>

<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">words_by_decade_prop</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;decade&#39;</span><span class="p">),</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;decade&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;proportion&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Proportion of each term by decade&#39;</span><span class="p">)</span>

<span class="c1"># make figure size bigger</span>
<span class="c1"># fig.update_layout(</span>
<span class="c1">#     autosize=False,</span>
<span class="c1">#     width=700,</span>
<span class="c1">#     height=500,</span>
<span class="c1"># )</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allplaces_wide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">places_with_start_end</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> 
        <span class="n">allplaces_wide</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">decade_placeholder_forprop</span> <span class="o">=</span> <span class="n">allplaces_wide</span><span class="o">.</span>\
                            <span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>\
                            <span class="n">reset_index</span><span class="p">()</span><span class="o">.</span>\
                            <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;place_name&#39;</span><span class="p">})</span><span class="o">.</span>\
                            <span class="nb">sum</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span>\
                            <span class="n">reset_index</span><span class="p">()</span><span class="o">.</span>\
                            <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span><span class="o">.</span>\
                            <span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">most_freq_words_dict2</span><span class="p">:</span>
    <span class="c1"># create a wide form of contemporary with each decade as a column and a binary value for whether the venue existed in that decade</span>
    <span class="c1"># use start_year as the start and end_year as the end of the venue</span>
    <span class="n">contemporary</span> <span class="o">=</span> <span class="n">places_with_start_end</span><span class="p">[(</span><span class="n">places_with_start_end</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">term</span><span class="p">))]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;start_year&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">contemporary</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;start_year&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;end_year&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> 
            <span class="n">contemporary_wide</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;place_name&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">year</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">contemporary_wide</span><span class="o">.</span>\
        <span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">reset_index</span><span class="p">()</span><span class="o">.</span>\
        <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;place_name&#39;</span><span class="p">})</span><span class="o">.</span>\
        <span class="nb">sum</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">reset_index</span><span class="p">()</span><span class="o">.</span>\
        <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span>
    
    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">contemporary_wide</span><span class="p">,</span> <span class="n">decade_placeholder_forprop</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span>
    <span class="n">contemporary_wide</span><span class="p">[</span><span class="s1">&#39;prop&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">contemporary_wide</span><span class="p">[</span><span class="s1">&#39;count_x&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> 
                                     <span class="n">contemporary_wide</span><span class="p">[</span><span class="s1">&#39;count_x&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">contemporary_wide</span><span class="p">[</span><span class="s1">&#39;count_y&#39;</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">contemporary_wide</span> <span class="o">=</span> <span class="n">contemporary_wide</span><span class="p">[[</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="s1">&#39;prop&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;decade&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">contemporary_wide</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;decade&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;prop&#39;</span><span class="p">,</span>
                    <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Number of venues that existed in each decade, </span><span class="si">{</span><span class="n">term</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># remove y-axis label</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

    <span class="c1"># make figure size bigger</span>
    <span class="c1"># fig.update_layout(</span>
    <span class="c1">#     autosize=False,</span>
    <span class="c1">#     width=700,</span>
    <span class="c1">#     height=400,</span>
    <span class="c1"># )</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Australian Cultural Data Engine<br/>
    
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>