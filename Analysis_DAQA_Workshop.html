
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DAQA Workshop</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystyles.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DAQA Analysis" href="Analysis_DAQA.html" />
    <link rel="prev" title="DAAO venues and organisations" href="Analysis_DAAOVenues.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-R8Q003ZY5N"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-R8Q003ZY5N');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/ACDElogo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="About.html">
   About
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data infrastructure and integration
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_Introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Integration_Architecture.html">
   Australian Cultural Data Engine Architecture
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_Overview.html">
     Overview of the Australian Cultural Data Engine Architecture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_Construction.html">
     Construction Workflow
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_DataReport.html">
     Data Report
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_ACDEA_SpecialConsiderations.html">
     Special Considerations for Data Analysis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Integration_DataSources.html">
   Data Sources
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_AusStage.html">
     The Australian Live Performance Database
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_CircusOz.html">
     The Circus Oz Living Archive collection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_DAAO.html">
     Design &amp; Art Australia Online
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_DAQA.html">
     Digital Archive of Queensland Architecture
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Integration_DataSources_SummerHayes.html">
     Summerhayes Family Collection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_Download.html">
   Integrated Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_FutureWorks.html">
   Future Works
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Integration_Miscellaneous.html">
   More Interesting Works and Cultural Data Sources
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Data analysis
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_Introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_ArchibaldPrize.html">
   Archibald Prize
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_CircusOz.html">
   Circus Oz Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_DAAO500.html">
   The DAAO 500
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_DAAOVenues.html">
   DAAO venues and organisations
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   DAQA Workshop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Analysis_DAQA.html">
   DAQA Analysis
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/Analysis_DAQA_Workshop.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/acd-engine/jupyterbook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/acd-engine/jupyterbook/issues/new?title=Issue%20on%20page%20%2FAnalysis_DAQA_Workshop.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/acd-engine/jupyterbook/master?urlpath=tree/docs/Analysis_DAQA_Workshop.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daqa-persons">
   DAQA Persons
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#education-experiences">
     Education experiences
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-many-qualifications-do-persons-in-the-the-daqa-hold">
       How many qualifications do persons in the the DAQA hold?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#education-qualification-types">
       Education qualification types
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#education-over-time">
       Education over time
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#education-over-time-only-queensland">
       Education over time (only Queensland)
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daqa-organisations">
   DAQA Organisations
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>DAQA Workshop</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daqa-persons">
   DAQA Persons
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#education-experiences">
     Education experiences
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-many-qualifications-do-persons-in-the-the-daqa-hold">
       How many qualifications do persons in the the DAQA hold?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#education-qualification-types">
       Education qualification types
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#education-over-time">
       Education over time
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#education-over-time-only-queensland">
       Education over time (only Queensland)
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daqa-organisations">
   DAQA Organisations
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="section" id="daqa-workshop">
<h1>DAQA Workshop<a class="headerlink" href="#daqa-workshop" title="Permalink to this headline">¶</a></h1>
<style>
  a {
    color: #1ea5a6 !important;
  }
</style>
<p>This is an exploratory data analysis of collected data from <a class="reference external" href="https://qldarch.net/">DAQA</a> with a focus on people, education affliation and organisations. The work presented below form part of ACDE’s presentation at <a class="reference external" href="https://www.eventbrite.com.au/e/data-futures-for-architectural-history-and-cultural-heritage-in-person-tickets-451462856557"><em>Data Futures for Architectural History and Cultural Heritage</em></a>, a collaborative workshop held in November 2022 with DAQA and Curtin University Library. This analysis was followed up with a more detailled analysis which can found in the following page, <a class="reference external" href="https://acd-engine.github.io/jupyterbook/Analysis_DAQA.html">DAQA Analysis</a>.</p>
<p>First, we display the number of records for each entity as per the ACDEA.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># for data mgmt</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">gzip</span><span class="o">,</span> <span class="nn">io</span><span class="o">,</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">ast</span>

<span class="c1"># for plotting</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">to_rgba</span>

<span class="c1"># for hypothesis testing</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">chi2_contingency</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">pareto</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="c1"># provide folder_name which contains uncompressed data i.e., csv and jsonl files</span>
<span class="c1"># only need to change this if you have already downloaded data</span>
<span class="c1"># otherwise data will be fetched from google drive</span>
<span class="k">global</span> <span class="n">folder_name</span>
<span class="n">folder_name</span> <span class="o">=</span> <span class="s1">&#39;data/local&#39;</span>

<span class="k">def</span> <span class="nf">fetch_small_data_from_github</span><span class="p">(</span><span class="n">fname</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://raw.githubusercontent.com/acd-engine/jupyterbook/master/data/analysis/</span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">rawdata</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">rawdata</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">check_if_csv_exists_in_folder</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span> <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_name</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">fetch_data</span><span class="p">(</span><span class="n">filetype</span><span class="o">=</span><span class="s1">&#39;csv&#39;</span><span class="p">,</span> <span class="n">acdedata</span><span class="o">=</span><span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s1">&#39;googledrive&#39;</span><span class="p">):</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;acde_</span><span class="si">{</span><span class="n">acdedata</span><span class="si">}</span><span class="s1">_202305080816.</span><span class="si">{</span><span class="n">filetype</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="c1"># first check if the data exists in current directory</span>
    <span class="n">data_from_path</span> <span class="o">=</span> <span class="n">check_if_csv_exists_in_folder</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data_from_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span> <span class="n">data_from_path</span>

    <span class="n">download_url</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">github_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://raw.githubusercontent.com/acd-engine/jupyterbook/master/data/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.gz&quot;</span>

    <span class="k">if</span> <span class="n">source</span> <span class="o">==</span> <span class="s1">&#39;googledrive&#39;</span><span class="p">:</span>
        <span class="n">urls</span> <span class="o">=</span> <span class="n">fetch_small_data_from_github</span><span class="p">(</span><span class="s1">&#39;acde_data_gdrive_urls.csv&#39;</span><span class="p">)</span>
        <span class="n">sharelink</span> <span class="o">=</span> <span class="n">urls</span><span class="p">[</span><span class="n">urls</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">acdedata</span><span class="p">][</span><span class="n">filetype</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://drive.google.com/u/0/uc?id=</span><span class="si">{</span><span class="n">sharelink</span><span class="si">}</span><span class="s1">&amp;export=download&amp;confirm=yes&#39;</span>

    <span class="k">elif</span> <span class="n">source</span> <span class="o">==</span> <span class="s1">&#39;github&#39;</span><span class="p">:</span> <span class="n">url</span> <span class="o">=</span> <span class="n">github_url</span>
    <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
    
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">sha</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;oid sha256:&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;size &#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Step 1: Create the JSON object</span>
        <span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;operation&quot;</span><span class="p">:</span> <span class="s2">&quot;download&quot;</span><span class="p">,</span> <span class="s2">&quot;transfer&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;basic&quot;</span><span class="p">],</span> <span class="s2">&quot;objects&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;oid&quot;</span><span class="p">:</span> <span class="n">sha</span><span class="p">,</span> <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">size</span><span class="p">)}]}</span>

        <span class="c1"># Step 2: Send a POST request to the LFS API</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/acd-engine/jupyterbook.git/info/lfs/objects/batch&quot;</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/vnd.git-lfs+json&quot;</span><span class="p">,</span><span class="s2">&quot;Content-type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json_data</span><span class="p">))</span>
        <span class="n">response_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

        <span class="c1"># Step 3: Extract the download URL from the response</span>
        <span class="n">download_url</span> <span class="o">=</span> <span class="n">response_json</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;actions&quot;</span><span class="p">][</span><span class="s2">&quot;download&quot;</span><span class="p">][</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">if</span> <span class="n">download_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">download_url</span><span class="p">)</span>

    <span class="n">decompressed_data</span> <span class="o">=</span> <span class="n">gzip</span><span class="o">.</span><span class="n">decompress</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    <span class="n">decompressed_buffer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="n">decompressed_data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filetype</span> <span class="o">==</span> <span class="s1">&#39;csv&#39;</span><span class="p">:</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">decompressed_buffer</span><span class="p">,</span> <span class="n">low_memory</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">df</span> <span class="o">=</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jl</span><span class="p">)</span> <span class="k">for</span> <span class="n">jl</span> <span class="ow">in</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">decompressed_buffer</span><span class="p">,</span> <span class="n">lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span> 

<span class="k">def</span> <span class="nf">fetch_all_DAQA_data</span><span class="p">():</span>
    <span class="n">daqa_data_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="s1">&#39;organization&#39;</span><span class="p">,</span> <span class="s1">&#39;person&#39;</span><span class="p">,</span> <span class="s1">&#39;place&#39;</span><span class="p">,</span> <span class="s1">&#39;recognition&#39;</span><span class="p">,</span> <span class="s1">&#39;resource&#39;</span><span class="p">,</span> <span class="s1">&#39;work&#39;</span><span class="p">]:</span>
        <span class="n">daqa_this_entity</span> <span class="o">=</span> <span class="n">fetch_data</span><span class="p">(</span><span class="n">acdedata</span><span class="o">=</span><span class="n">entity</span><span class="p">)</span>
        <span class="n">daqa_data_dict</span><span class="p">[</span><span class="n">entity</span><span class="p">]</span> <span class="o">=</span> <span class="n">daqa_this_entity</span><span class="p">[</span><span class="n">daqa_this_entity</span><span class="o">.</span><span class="n">data_source</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;DAQA&#39;</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">daqa_data_dict</span>

<span class="n">df_daqa_dict</span> <span class="o">=</span> <span class="n">fetch_all_DAQA_data</span><span class="p">()</span> <span class="c1"># 1 min if data is already downloaded</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># print number of records for each entity</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of records for each entity in DAQA dataset&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;_________________________________________________</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">df_daqa_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="nb">print</span><span class="p">(</span><span class="n">k</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of records for each entity in DAQA dataset
_________________________________________________

event: 0
organization: 967
person: 1103
place: 1939
recognition: 27
resource: 7696
work: 2203
</pre></div>
</div>
</div>
</div>
<div class="section" id="daqa-persons">
<h2>DAQA Persons<a class="headerlink" href="#daqa-persons" title="Permalink to this headline">¶</a></h2>
<p>There are 1103 person records in DAQA. The following bar charts show the proportion of certain characteristics of persons in DAQA. We list the main findings below:</p>
<ul class="simple">
<li><p>When we consider <code class="docutils literal notranslate"><span class="pre">null</span></code> cases, we find that males make up almost two-thirds of the persons records.</p></li>
<li><p>Without null cases, we see a male-to-female ratio of 85:15.</p></li>
<li><p>Out of the 1103 persons, 912 are architects making up 83% of the total persons records.</p></li>
<li><p>We check for any categorical associations between gender and whether a person is an architect. Using a chi-square test of association, we find statistically significant results with a p-value of 0.02. This suggests that these two variables are not independent of each other, and that more males tend to be architects than females.</p></li>
<li><p>Lastly, we find that 60% of the persons recorded in DAQA practiced in Queensland.</p></li>
</ul>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Gender Proportion</span>
<span class="n">df_gender</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s2">&quot;gender&quot;</span><span class="p">]))</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
                              <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Gender&quot;</span><span class="p">,</span><span class="s2">&quot;Frequency&quot;</span><span class="p">])</span>

<span class="c1"># explosion</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span>
  
<span class="c1"># Pie Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">df_gender</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Male&#39;</span><span class="p">,</span><span class="s1">&#39;Missing&#39;</span><span class="p">,</span><span class="s1">&#39;Female&#39;</span><span class="p">],</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span>
        <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">)</span>
  
<span class="c1"># draw circle</span>
<span class="n">centre_circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">0.70</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>
  
<span class="c1"># Adding Circle in Pie chart</span>
<span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">centre_circle</span><span class="p">)</span>
  
<span class="c1"># Adding Title of chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Gender proportion (with null cases)&#39;</span><span class="p">)</span>
  
<span class="c1"># Displaying Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># without null</span>
<span class="c1"># explosion</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span>
  
<span class="c1"># Pie Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">df_gender</span><span class="p">[</span><span class="o">~</span><span class="n">df_gender</span><span class="p">[</span><span class="s1">&#39;Gender&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()][</span><span class="s1">&#39;Frequency&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Male&#39;</span><span class="p">,</span><span class="s1">&#39;Female&#39;</span><span class="p">],</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span><span class="s1">&#39;tab:green&#39;</span><span class="p">],</span>
        <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">)</span>

<span class="c1"># draw circle</span>
<span class="n">centre_circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">0.70</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>
  
<span class="c1"># Adding Circle in Pie chart</span>
<span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">centre_circle</span><span class="p">)</span>
  
<span class="c1"># Adding Title of chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Gender proportion&#39;</span><span class="p">)</span>
  
<span class="c1"># Displaying Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_4_0.png" src="_images/Analysis_DAQA_Workshop_4_0.png" />
<img alt="_images/Analysis_DAQA_Workshop_4_1.png" src="_images/Analysis_DAQA_Workshop_4_1.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Proportion of is_architect field </span>
<span class="n">df_isarch</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s2">&quot;is_architect&quot;</span><span class="p">]))</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
                              <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;is_architect&quot;</span><span class="p">,</span><span class="s2">&quot;Frequency&quot;</span><span class="p">])</span>

<span class="c1"># explosion</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span>
  
<span class="c1"># Pie Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">df_isarch</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">],</span> <span class="n">labels</span><span class="o">=</span><span class="n">df_isarch</span><span class="p">[</span><span class="s1">&#39;is_architect&#39;</span><span class="p">],</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span>
        <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">)</span>

<span class="c1"># draw circle</span>
<span class="n">centre_circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">0.70</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>
  
<span class="c1"># Adding Circle in Pie chart</span>
<span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">centre_circle</span><span class="p">)</span>
  
<span class="c1"># Adding Title of chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of architects in DAQA persons data&#39;</span><span class="p">)</span>
  
<span class="c1"># Displaying Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_5_0.png" src="_images/Analysis_DAQA_Workshop_5_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># categorical associations  - gender and is_architect</span>
<span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;gender&#39;</span><span class="p">],</span> 
            <span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;is_architect&#39;</span><span class="p">],</span> <span class="n">normalize</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Categorical associations, Is Architect and Gender, p=</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">chi2_contingency</span><span class="p">([[</span><span class="mi">34</span><span class="p">,</span> <span class="mi">85</span><span class="p">],</span> <span class="p">[</span><span class="mi">133</span><span class="p">,</span> <span class="mi">566</span><span class="p">]])[</span><span class="mi">1</span><span class="p">],</span><span class="mi">2</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_6_0.png" src="_images/Analysis_DAQA_Workshop_6_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Proportion of architects practicing in Queensland</span>
<span class="n">df_isarchfromqld</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s2">&quot;is_practiceInQueensland&quot;</span><span class="p">]))</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
                              <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;is_practiceInQueensland&quot;</span><span class="p">,</span><span class="s2">&quot;Frequency&quot;</span><span class="p">])</span>
<span class="c1"># explosion</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">)</span>
  
<span class="c1"># Pie Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">df_isarchfromqld</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">],</span> 
        <span class="n">labels</span><span class="o">=</span><span class="n">df_isarchfromqld</span><span class="p">[</span><span class="s1">&#39;is_practiceInQueensland&#39;</span><span class="p">],</span>
        <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span>
        <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">)</span>

<span class="c1"># draw circle</span>
<span class="n">centre_circle</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mf">0.70</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>
  
<span class="c1"># Adding Circle in Pie chart</span>
<span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">centre_circle</span><span class="p">)</span>
  
<span class="c1"># Adding Title of chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of persons practicing in QLD&#39;</span><span class="p">)</span>
  
<span class="c1"># Displaying Chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_7_0.png" src="_images/Analysis_DAQA_Workshop_7_0.png" />
</div>
</div>
<div class="section" id="education-experiences">
<h3>Education experiences<a class="headerlink" href="#education-experiences" title="Permalink to this headline">¶</a></h3>
<p>Next we analyse the educational affliations of persons in DAQA. First we clean the data by removing rows with missing data and tidying inconsistent values, and assess the summary statistics of the data.</p>
<ul class="simple">
<li><p>We find that out of the 1103 persons in DAQA, only 163 person records (15%) have populated education fields. As there are 210 education records, this suggests that most persons have one completed education record. However, there are some cases where a person has four education records i.e., <code class="docutils literal notranslate"><span class="pre">Robert</span> <span class="pre">Riddel</span></code>.</p></li>
<li><p>There are 39 unique education institutions in the data, with the University of Queensland being the most common with 78 occurences.</p></li>
<li><p>There are 10 unique education qualifications in the data, with Diploma of Architecture being the most common with 84 occurences.</p></li>
<li><p>Over two-thirds of education records are associated with a Queensland education institution (163 records).</p></li>
</ul>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># inspect data</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">ii</span><span class="p">,</span><span class="n">ee</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;education_trainings&#39;</span><span class="p">]):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ee</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span> <span class="k">continue</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ee</span><span class="p">):</span>
        <span class="n">this_ee</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">ee</span><span class="p">))</span>
        <span class="n">this_ee</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">ii</span><span class="p">][</span><span class="s1">&#39;display_name&#39;</span><span class="p">])</span>
        <span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">this_ee</span><span class="p">)</span>

<span class="c1"># remove incomplete and remove rows with no completion dates</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;incomplete&#39;</span><span class="p">]</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="o">~</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span>

<span class="c1"># remove rows with no qualification data</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="o">~</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;INCOMPLETE&#39;</span><span class="p">]</span>

<span class="c1"># remove rows with no school name</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="o">~</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span>

<span class="c1"># remove case of honorary doctorates</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;QUT, UQ&#39;</span><span class="p">]</span>
     
<span class="c1"># fix missing place name</span>
<span class="n">ee_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CAMBRIDGE&#39;</span><span class="p">,</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;UK&#39;</span>
    
<span class="c1"># fix anomalies</span>
<span class="n">anomalies</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="n">ee_df</span><span class="o">.</span><span class="n">display_name</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Richard Allom|Lilly Addison|Edward James Archibald Weller|Robyn Hesse|Malcolm Bunzli|Dorothy Brennan|Donald Watson|Bruce Goodsir&#39;</span><span class="p">)][</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">ee_df</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="o">~</span><span class="n">ee_df</span><span class="o">.</span><span class="n">display_name</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">anomalies</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># clean qualification data</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;BACHELOR OF ARCHITECTURE&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;BA&#39;</span><span class="p">,</span><span class="s1">&#39;B.ARCH&#39;</span><span class="p">,</span><span class="s1">&#39;BArch hons&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;BArch&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;BA SCIENCE(BOTANY)&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;BA Town Planning&#39;</span><span class="p">,</span><span class="s1">&#39;BA Larch&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;BA Design Studies&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;BA Design&#39;</span><span class="p">,</span><span class="s1">&#39;BA Design&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;BAppSci&#39;</span><span class="p">,</span><span class="s1">&#39;BA (?) Town Planning&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;Bachelor (Other)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Diploma&#39;</span><span class="p">,</span><span class="s1">&#39;DIPLOMA&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;DIP Arch&#39;</span><span class="p">,</span><span class="s1">&#39;DIPLOMA OF ARCHITECTURE&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;DipA&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;DipArch&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;GradDip Uni Planning&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;GradDip Project Management&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Grad Dip Town Planning&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Gdip Urban Planning&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;GradDip landscape&#39;</span><span class="p">,</span><span class="s1">&#39;Grad Dip Landscape&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;GDip (Other)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Grad Dip&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;GDipArch&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;M.A.ARCHITECTURE&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;MArch&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>


<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;MA Town Planning&#39;</span><span class="p">,</span><span class="s1">&#39;MBA&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;MA App Sc&#39;</span><span class="p">,</span><span class="s1">&#39;MA Education&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;MArts&#39;</span><span class="p">,</span><span class="s1">&#39;MArts (Urban design)&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Masters in Art&#39;</span><span class="p">,</span><span class="s1">&#39;M.Litt&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;MA Urban Studies&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;Masters (Other)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;PhD (hon)&#39;</span><span class="p">,</span><span class="s1">&#39;PHD&#39;</span><span class="p">,]),</span>
                                         <span class="s1">&#39;PhD&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;CERT&#39;</span><span class="p">,</span><span class="s1">&#39;certificate&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;CERTIFICATE OF ARCHITECTURE&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;CertArch&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;CERTIFICATE OF TOWN PLANNING&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Cert Art&amp;Design&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;Cert (Other)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
                                         <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;CERTIFICATE OF TOWN PLANNING&#39;</span><span class="p">,</span>
                                                <span class="s1">&#39;Cert Art&amp;Design&#39;</span><span class="p">]),</span>
                                         <span class="s1">&#39;Cert (Other)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">topquals</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>\
            <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
            <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Qualification&#39;</span><span class="p">,</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\
            <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="s1">&#39;Qualification&#39;</span><span class="p">]</span>\
            <span class="o">.</span><span class="n">values</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">topquals</span><span class="p">),</span> 
                                <span class="s1">&#39;Unknown&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">),</span>
                                          <span class="s1">&#39;Bachelor&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;M&#39;</span><span class="p">),</span>
                                          <span class="s1">&#39;Masters&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;GDip&#39;</span><span class="p">),</span>
                                          <span class="s1">&#39;Graduate Diploma&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Cert&#39;</span><span class="p">),</span>
                                          <span class="s1">&#39;Certificate&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;DipArch&#39;</span><span class="p">,</span>
                                          <span class="s1">&#39;Diploma&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># clean place/school data</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;VIC&#39;</span><span class="p">)</span> <span class="o">&amp;</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;UQ&#39;</span><span class="p">))</span> <span class="o">|</span>
                                         <span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;MELBOURNE&#39;</span><span class="p">)</span> <span class="o">&amp;</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;UQ&#39;</span><span class="p">))</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Qld&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Qld&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;qld&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;UNI&#39;</span><span class="p">),</span>
                                         <span class="s1">&#39;QLD&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;MELBOURNE&#39;</span><span class="p">),</span>
                                         <span class="s1">&#39;VIC&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SYDNEY&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Colle&#39;</span><span class="p">),</span>
                                         <span class="s1">&#39;NSW&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>
                                          
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;USA&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;New York&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CANADA&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;USA&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;AUCKLAND&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;NZ&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Scotland&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;SCOTLAND&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;LONDON&#39;</span><span class="p">)</span> <span class="o">|</span> 
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SCOTLAND&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Indep&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;England&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;UK&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Vienna, Austria&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;VIENNA&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Vienna&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Vienna Austria&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Vienna, AUSTRIA&#39;</span><span class="p">),</span> 
                                         <span class="s1">&#39;Other (Europe)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Norway&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;MILAN&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Rome&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SLOVAKIA&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Hungary&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Cech&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;GERMANY&#39;</span><span class="p">),</span> 
                                         <span class="s1">&#39;Other (Europe)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;GUADALAJARA&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SOUTH AFRICA&#39;</span><span class="p">)</span> <span class="o">|</span>
                                         <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;INDIA&#39;</span><span class="p">),</span> 
                                         <span class="s1">&#39;Other (Rest of World)&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;UoM&#39;</span><span class="p">),</span> <span class="c1">#data entry error</span>
                                <span class="s1">&#39;UQ&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;BCTC/UQ&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;BCTC?UQ&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CTC&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;BRISBANE CENTRAL TECHNICAL COLLEGE&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;BCTC&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sydney&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SYDNEY UNI&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Sydney University&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;USYD&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Melb&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Melbourne&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;UNI OF MELBOURNE&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;MELBOURNE&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;UoM&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;UoM&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;VIC&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SYDNEY TECHNICAL COLLEGE&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;STC&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;EAST SYDNEY TECH COLLEGE AND TOWN PLANNING&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;ESTC&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Melb TC&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;MTC&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;HAVARD GRAD SCH OF DESIGN&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;HAVARD UNI&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;Harvard&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;articled&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;articles&#39;</span><span class="p">)</span> <span class="o">|</span> 
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Articled Pup&#39;</span><span class="p">)</span> <span class="o">|</span>
                                <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Articled&#39;</span><span class="p">),</span> 
                                <span class="s1">&#39;Articled&#39;</span><span class="p">,</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>

<span class="c1"># Summary statistics</span>
<span class="c1"># display(HTML(ee_df.describe().to_html()))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Summary statistics:&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ee_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;organization.type&#39;</span><span class="p">,</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">,</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Summary statistics:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>organization.name</th>
      <th>organization.qualification</th>
      <th>coverage_range.place</th>
      <th>display_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>210</td>
      <td>210</td>
      <td>210</td>
      <td>210</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>38</td>
      <td>10</td>
      <td>8</td>
      <td>163</td>
    </tr>
    <tr>
      <th>top</th>
      <td>UQ</td>
      <td>DipArch</td>
      <td>QLD</td>
      <td>Robert Riddel</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>84</td>
      <td>84</td>
      <td>153</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="how-many-qualifications-do-persons-in-the-the-daqa-hold">
<h4>How many qualifications do persons in the the DAQA hold?<a class="headerlink" href="#how-many-qualifications-do-persons-in-the-the-daqa-hold" title="Permalink to this headline">¶</a></h4>
<p>Upon further inspection, we find that most persons in DAQA have one qualification (79%), with 15% having two qualifications and 6% having three or more qualifications. Below we list the persons with three or more qualifications. We find that most of these persons have a PhD.</p>
<p><strong>Person records with three education qualifications:</strong></p>
<ul class="simple">
<li><p>Balwant Saini (BArch, BArch, PhD)</p></li>
<li><p>Blair Wilson (BArch, DipArch, Graduate Diploma)</p></li>
<li><p>Gordon Holden (DipArch, Masters ,PhD)</p></li>
<li><p>Graham de Gruchy (BArch, Masters ,PhD)</p></li>
<li><p>Janet Conrad (BArch, Bachelor, Masters)</p></li>
<li><p>Karl Langer (CertArch, DipArch, PhD)</p></li>
<li><p>Peter Skinner (Bachelor, BArch, MArch)</p></li>
<li><p>Steven Szokolay (BArch, MArch, PhD)</p></li>
</ul>
<p><strong>Person records with four education qualifications:</strong></p>
<ul class="simple">
<li><p>Barbara van den Broek (DipArch, Graduate Diploma, Graduate Diploma, Masters)</p></li>
<li><p>Robert Riddel (DipArch, Masters, DipArch, PhD)</p></li>
</ul>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## bar chart of number of qualifications</span>
<span class="n">df_persons_with_qual</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>\
                            <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
                            <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;display_name&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_persons_with_qual</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span>\
        <span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>\
        <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
        <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Qualification Count&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">df_persons_with_qual</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Qualification Count&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># add bar labels</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>

<span class="c1"># remove legend and y-axis title</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;How many qualifications do persons in the DAQA hold?&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">140</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># use to check people with multiple qualifications</span>
<span class="c1"># ee_df[(ee_df[&#39;display_name&#39;]\</span>
<span class="c1">#       .isin(df_persons_with_qual[df_persons_with_qual.Frequency &gt; 2][&#39;Person&#39;]\</span>
<span class="c1">#       .values))]\</span>
<span class="c1">#       .sort_values([&#39;display_name&#39;,&#39;coverage_range.date_range.date_end&#39;])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_13_0.png" src="_images/Analysis_DAQA_Workshop_13_0.png" />
</div>
</div>
</div>
<div class="section" id="education-qualification-types">
<h4>Education qualification types<a class="headerlink" href="#education-qualification-types" title="Permalink to this headline">¶</a></h4>
<p>Firstly, we plot the number of education records for each qualification type. We further aggregate the education qualifications into six broad categories. We find that most persons in DAQA have a Diploma (34% of records), followed by a Bachelor (29% of records). Next, we inspect the distribution of the location of the qualifications. Beyond Queensland, other locations with a high number of education records include New South Wales, Victoria, the United Kingdom and the United States. The last bar chart reveals the number of education records by education institution. We only show the top eight universities, with the University of Queensland being the most common.</p>
<p>It should be noted that BCTC, QIT and QUT refer to the same institution, but have changed names over time. AA refers to the Architectural Association School of Architecture (based in the UK) and STC refers to the Sydney Technical College.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bar chart of qualification</span>
<span class="n">ee_freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ee_df_last</span><span class="p">[</span><span class="s1">&#39;organization.qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">ee_freq</span>\
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Qualification&#39;</span><span class="p">,</span>
             <span class="s1">&#39;organization.qualification&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Qualification&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Unknown&#39;</span><span class="p">])]</span>

<span class="c1"># df[&#39;Colour&#39;] = np.where(df[&#39;Place&#39;].isin([&#39;QLD&#39;,&#39;VIC&#39;,&#39;NSW&#39;,&#39;TAS&#39;]),&#39;orange&#39;,&#39;steelblue&#39;)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">ee_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Qualification&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># add bar labels</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>

<span class="c1"># remove legend and y-axis title</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of education qualification, Architecture vs Other&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">85</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_15_0.png" src="_images/Analysis_DAQA_Workshop_15_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># keep last education record</span>
<span class="n">ee_df_last</span> <span class="o">=</span> <span class="n">ee_df</span>\
<span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">,</span><span class="s1">&#39;display_name&#39;</span><span class="p">])</span>\
<span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;display_name&#39;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="p">)</span>

<span class="c1"># bar chart of qualification type</span>
<span class="n">ee_freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ee_df_last</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">ee_freq</span>\
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Qualification Type&#39;</span><span class="p">,</span>
             <span class="s1">&#39;organization.qualification2&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Qualification Type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Unknown&#39;</span><span class="p">])]</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">ee_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Qualification Type&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># add bar labels</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>

<span class="c1"># remove legend and y-axis title</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of education qualification group&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">85</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_16_0.png" src="_images/Analysis_DAQA_Workshop_16_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bar chart of location of education institution</span>
<span class="n">ee_freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ee_df_last</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">ee_freq</span>\
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Place&#39;</span><span class="p">,</span>
             <span class="s1">&#39;coverage_range.place&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Colour&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Place&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;QLD&#39;</span><span class="p">,</span><span class="s1">&#39;VIC&#39;</span><span class="p">,</span><span class="s1">&#39;NSW&#39;</span><span class="p">,</span><span class="s1">&#39;TAS&#39;</span><span class="p">]),</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="s1">&#39;steelblue&#39;</span><span class="p">)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">ee_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Place&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Colour&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="p">,</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># add bar labels</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>

<span class="c1"># remove legend and y-axis title</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of location of education qualification,</span><span class="se">\n</span><span class="s1">Australia highlighted in orange&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">140</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_17_0.png" src="_images/Analysis_DAQA_Workshop_17_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bar chart of education institution</span>
<span class="n">ee_freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ee_df_last</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">ee_freq</span>\
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;School Name&#39;</span><span class="p">,</span>
             <span class="s1">&#39;organization.name&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>

<span class="c1"># df = df[~df[&#39;School Name&#39;].isin([&#39;Articled&#39;,&#39;NOT IN DAQA&#39;])]</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">ee_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Colour&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;School Name&#39;</span><span class="p">]</span>\
                        <span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;UQ&#39;</span><span class="p">,</span><span class="s1">&#39;BCTC&#39;</span><span class="p">,</span><span class="s1">&#39;QIT&#39;</span><span class="p">,</span><span class="s1">&#39;QUT&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="s1">&#39;steelblue&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;School Name&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> 
                  <span class="n">color</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Colour&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># add bar labels</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>

<span class="c1"># remove legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of educational institution,</span><span class="se">\n</span><span class="s1">Queensland universities highlighted in orange&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">75</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_18_0.png" src="_images/Analysis_DAQA_Workshop_18_0.png" />
</div>
</div>
</div>
<div class="section" id="education-over-time">
<h4>Education over time<a class="headerlink" href="#education-over-time" title="Permalink to this headline">¶</a></h4>
<p>We continue the analysis by visualising education records with respect to year. The histogram below highlights that most education records are from the 1960s and 1970s. We also plot the number of education records by year and education qualification.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Histogram of year of education completion</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">]</span>\
                                              <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>\
                                              <span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Histogram of year of education completion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_20_0.png" src="_images/Analysis_DAQA_Workshop_20_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## line chart by decade of education completion</span>
<span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;date_end_decade&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span> 
                            <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.date_range.date_end.year&#39;</span><span class="p">])]</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;date_end_decade&#39;</span><span class="p">],</span>
            <span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># adjust legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Decade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Education qualification completion by decade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_21_0.png" src="_images/Analysis_DAQA_Workshop_21_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># line chart by decade of education completion (outside AUS)</span>
<span class="n">ee_df_notqld</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="o">~</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;QLD&#39;</span><span class="p">,</span><span class="s1">&#39;TAS&#39;</span><span class="p">,</span><span class="s1">&#39;NSW&#39;</span><span class="p">,</span><span class="s1">&#39;VIC&#39;</span><span class="p">])]</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">ee_df_notqld</span><span class="p">[</span><span class="s1">&#39;date_end_decade&#39;</span><span class="p">],</span>
            <span class="n">ee_df_notqld</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># adjust legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Decade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">1875</span><span class="p">,</span> <span class="mi">2025</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Education qualification completion by decade (Outside Australia)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_22_0.png" src="_images/Analysis_DAQA_Workshop_22_0.png" />
</div>
</div>
</div>
<div class="section" id="education-over-time-only-queensland">
<h4>Education over time (only Queensland)<a class="headerlink" href="#education-over-time-only-queensland" title="Permalink to this headline">¶</a></h4>
<p>Next we focus solely on education records from Queensland. A shift in the adoption of education qualification type is observed around the 1960s. This shift is particularly emphasised in the second visualisation where proportions of Bachelor and Diploma records are plotted. For further context, we also provide visualisations with respect to education institution and education qualification.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># line chart by decade of education completion (only queensland)</span>
<span class="n">ee_df_qld</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;QLD&#39;</span><span class="p">])]</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">ee_df_qld</span><span class="p">[</span><span class="s1">&#39;date_end_decade&#39;</span><span class="p">],</span>
            <span class="n">ee_df_qld</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">])</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># adjust legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Decade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">1880</span><span class="p">,</span> <span class="mi">2025</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Education qualification completion by decade (only Queensland)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_24_0.png" src="_images/Analysis_DAQA_Workshop_24_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bachelor/diploma proportion over decade (only queensland)</span>
<span class="n">ee_df2</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Bachelor&#39;</span><span class="p">,</span><span class="s1">&#39;Diploma&#39;</span><span class="p">]))</span> <span class="o">&amp;</span>
               <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;QLD&#39;</span><span class="p">]))]</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;date_end_decade&#39;</span><span class="p">],</span>
            <span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">],</span> <span class="n">normalize</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span><span class="s1">&#39;tab:green&#39;</span><span class="p">])</span>

<span class="c1"># adjust legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Decade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">1.13</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of Bachelor and Diploma qualifications within Queensland&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_25_0.png" src="_images/Analysis_DAQA_Workshop_25_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bachelor/diploma over decade by qld institutions</span>
<span class="n">ee_df2</span> <span class="o">=</span> <span class="n">ee_df</span><span class="p">[(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Bachelor&#39;</span><span class="p">,</span><span class="s1">&#39;Diploma&#39;</span><span class="p">]))</span> <span class="o">&amp;</span>
               <span class="p">(</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;coverage_range.place&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;QLD&#39;</span><span class="p">]))</span> <span class="o">&amp;</span>
               <span class="p">(</span><span class="o">~</span><span class="n">ee_df</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;Townsville TC&#39;</span><span class="p">]))]</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;date_end_decade&#39;</span><span class="p">],</span>
                 <span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">],</span><span class="n">normalize</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;area&#39;</span><span class="p">,</span><span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> 
      <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span><span class="s1">&#39;tab:red&#39;</span><span class="p">,</span>
             <span class="s1">&#39;tab:orange&#39;</span><span class="p">,</span><span class="s1">&#39;tab:green&#39;</span><span class="p">])</span>

<span class="c1"># adjust legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Decade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of Bachelor and Diploma qualifications by QLD university&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_26_0.png" src="_images/Analysis_DAQA_Workshop_26_0.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bachelor/diploma over decade by qld institutions, summarised</span>
<span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;main_qld_unis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;BCTC&#39;</span><span class="p">,</span><span class="s1">&#39;QUT&#39;</span><span class="p">,</span><span class="s1">&#39;QIT&#39;</span><span class="p">]),</span>
                                   <span class="s1">&#39;BCTC/QIT/QUT&#39;</span><span class="p">,</span> <span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;organization.name&#39;</span><span class="p">])</span>
<span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;main_qld_unis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;main_qld_unis&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; : &#39;</span> <span class="o">+</span> <span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;organization.qualification2&#39;</span><span class="p">]</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;date_end_decade&#39;</span><span class="p">],</span>
                 <span class="n">ee_df2</span><span class="p">[</span><span class="s1">&#39;main_qld_unis&#39;</span><span class="p">])</span>\
<span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="c1"># adjust legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Decade&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Frequency of Bachelor and Diploma qualifications by QLD university&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Analysis_DAQA_Workshop_27_0.png" src="_images/Analysis_DAQA_Workshop_27_0.png" />
</div>
</div>
</div>
</div>
</div>
<div class="section" id="daqa-organisations">
<h2>DAQA Organisations<a class="headerlink" href="#daqa-organisations" title="Permalink to this headline">¶</a></h2>
<p>There are 967 organisation records in DAQA. The bar chart below shows the proportion of organisations by type, with the majority being architectural firms. We also plot the number of types of person-organisation relationships. We find that three-quarters of these relationships are employment-related.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bar chart of organisation type</span>
<span class="n">type_freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">][</span><span class="s1">&#39;_class_ori&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">type_freq</span><span class="o">.</span><span class="n">T</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">type_freq</span>\
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>\
    <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Type&#39;</span><span class="p">,</span>
             <span class="s1">&#39;_class_ori&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
             
<span class="n">labels</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;organization&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Type&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># add bar labels</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>

<span class="c1"># remove legend</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># increase y-axuis limit</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of organisation type&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>            &quot;firm&quot;  &quot;education&quot;  &quot;organisation&quot;  &quot;government&quot;
_class_ori     907           39              15             6 
</pre></div>
</div>
<img alt="_images/Analysis_DAQA_Workshop_54_1.png" src="_images/Analysis_DAQA_Workshop_54_1.png" />
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">daqa_person_orgs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df_daqa_dict</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span> <span class="n">daqa_person_orgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;related_organizations&#39;</span><span class="p">])))</span>
    <span class="k">except</span><span class="p">:</span> <span class="k">continue</span>

<span class="c1"># turn list to dataframe</span>
<span class="n">daqa_person_orgs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">daqa_person_orgs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;There are </span><span class="si">{</span><span class="n">daqa_person_orgs</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> person-organisation relation records.&#39;</span><span class="p">)</span>

<span class="c1"># bar chart of predicate type for person/org relationships</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
        <span class="n">daqa_person_orgs</span><span class="p">[</span><span class="s1">&#39;predicate.term&#39;</span><span class="p">]</span>
        <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>\
        <span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>\
        <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;index&#39;</span><span class="p">:</span><span class="s1">&#39;Predicate&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;predicate.term&#39;</span><span class="p">:</span><span class="s1">&#39;Frequency&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>

<span class="c1"># ee_freq = pd.DataFrame(ee_df_last[&#39;school.qualification2&#39;].value_counts())</span>
<span class="c1"># print(ee_freq.T,&#39;\n&#39;)</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Frequency&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">daqa_person_orgs</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;str&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">rc</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">:(</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">)})</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;Predicate&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frequency&#39;</span><span class="p">,</span><span class="n">rot</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># add bar labels</span>
<span class="p">[</span><span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">containers</span><span class="p">]</span>

<span class="c1"># remove legend and y-axis title</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1400</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Proportion of person-organisation relationship types&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>There are 1575 person-organisation relation records.
</pre></div>
</div>
<img alt="_images/Analysis_DAQA_Workshop_55_1.png" src="_images/Analysis_DAQA_Workshop_55_1.png" />
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Analysis_DAAOVenues.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">DAAO venues and organisations</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Analysis_DAQA.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">DAQA Analysis</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Australian Cultural Data Engine<br/>
    
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>